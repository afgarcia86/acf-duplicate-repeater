!function d(f,l,c){function o(t,e){if(!l[t]){if(!f[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(r)return r(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=l[t]={exports:{}};f[t][0].call(i.exports,function(e){return o(f[t][1][e]||e)},i,i.exports,d,f,l,c)}return l[t].exports}for(var r="function"==typeof require&&require,e=0;e<c.length;e++)o(c[e]);return o}({1:[function(e,t,a){(function(e){"use strict";var t,d=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};var a=acf_duplicate_repeater.options,f={_default:function(e,t,a){var n=e.find('[type="'+a+'"]');acf.getField(e),acf.getField(t);t.find('[type="'+a+'"]').each(function(e,t){(0,d.default)(this).val((0,d.default)(n[e]).val())})},button_group:function(e,t){var a=t.find('[type="radio"]');e.find('[type="radio"]').each(function(e,t){if((0,d.default)(t).prop("checked"))return(0,d.default)(a[e]).trigger("click"),!1})},checkbox:function(e,t){var a=t.find('[type="checkbox"]');e.find('[type="checkbox"]').each(function(e,t){(0,d.default)(a[e]).prop("checked",(0,d.default)(t).prop("checked"))})},color_picker:function(e,t){var a=acf.getField(e),n=acf.getField(t),i=a.$inputText().val();n.$inputText().iris("option","color",i)},date_picker:function(e,t){f._default(e,t,"text"),f._default(e,t,"hidden")},date_time_picker:function(e,t){f._default(e,t,"text"),f._default(e,t,"hidden")},file:function(e,t){var a=e.find(".acf-file-uploader"),n=t.find(".acf-file-uploader");f._default(e,t,"hidden"),a.hasClass("has-value")&&(n.find("div").first().html(a.find("div").first().html()),t.find(".acf-file-uploader").addClass("has-value"))},flexible_content:function(e,t){var a=acf.getField(e),n=acf.getField(t);a.$layouts().each(function(e,t){var a=(0,d.default)(t);n.add({layout:a.data("layout")}),l(a,n.$layouts().last(),"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field")})},gallery:function(e,t){var a=e.find(".acf-gallery-attachments"),n=t.find(".acf-gallery-attachments"),i=t.find('input[type="hidden"]').attr("name")+"[]";a.children().each(function(e,t){$clone=(0,d.default)(t).clone(),$clone.find('[type="hidden"]').attr("name",i),n.append($clone)})},google_map:function(e,t){var a=acf.getField(e);acf.getField(t).setValue(a.getValue())},group:function(e,t){l(e,t,"> .acf-input > .acf-table > tbody > .acf-row > .acf-field, > .acf-input > .acf-fields > .acf-field")},image:function(e,t){f._default(e,t,"hidden"),t.find("img").attr("src",e.find("img").attr("src")),e.find(".acf-image-uploader").hasClass("has-value")&&t.find(".acf-image-uploader").addClass("has-value")},link:function(e,t){var a=e.find(".link-node"),n=t.find(".link-node");n.html(a.html()),n.attr("href",a.attr("href")),n.attr("target",a.attr("target")),n.trigger("change")},oembed:function(e,t){t.find('[data-name="search-input"]').val(e.find('[type="hidden"]').val()).trigger("blur")},post_object:function(e,t){f.select(e,t)},radio:function(e,t){f.button_group(e,t),f._default(e,t,"text")},range:function(e,t){f._default(e,t,"range"),f._default(e,t,"number")},relationship:function(e,t){var n=t.find(".values > .list"),a=t.find(".acf-relationship").children('input[type="hidden"]'),i=a.attr("name")+"[]";e.find(".values > .list").children().each(function(e,t){var a=(0,d.default)(t).clone();a.find('[type="hidden"]').attr("name",i),n.append(a)}),a.trigger("change")},repeater:function(e,t){var a=acf.getField(e),n=acf.getField(t),i=n.$rows();a.$rows().each(function(e,t){i[e]?$new_row=(0,d.default)(i[e]):$new_row=n.add(),l((0,d.default)(t),$new_row,"> .acf-field, > .acf-fields > .acf-field")})},select:function(e,t,a){a=a||" > .acf-input > select";var n=e.find(a),i=t.find(a);1*n.data("ui")&&(i.html(""),n.find("option").each(function(e,t){i.append((0,d.default)(t).clone())})),$destOpts=i.find("option"),n.find("option").each(function(e,t){(0,d.default)($destOpts[e]).prop("selected",(0,d.default)(t).prop("selected"))})},taxonomy:function(e,t){f.radio(e,t),f.checkbox(e,t),f.select(e,t,"> .acf-input > .acf-taxonomy-field > select")},textarea:function(e,t){t.find("textarea").val(e.find("textarea").val())},time_picker:function(e,t){f._default(e,t,"text"),f._default(e,t,"hidden")},true_false:function(e,t){t.find('[type="checkbox"]').prop("checked",e.find('[type="checkbox"]').prop("checked")),t.find('[type="checkbox"]').trigger("change")},user:function(e,t){f.select(e,t)},wysiwyg:function(e,t){var a,n=acf.getField(e),i=acf.getField(t),d=i.$input().attr("id"),f=n.getValue();(a=tinymce.get(d))?(a.setContent(f),t.find("textarea").val(e.find("textarea").val()),a.save()):i.$input().html(f)}};function l(e,t,a){a=a||"> .acf-field, > .acf-fields > .acf-field";var n=e.find(a),i=t.find(a);n.each(function(e,t){return i[e]?(0,d.default)(n[e]).data("type")!==(0,d.default)(i[e]).data("type")?(console.trace("Error: source field type does not match destination field type"),!1):void function(e,t){var a,n,i;a=e.attr("data-type"),(n=d.default.Event("acf_duplicate:"+a)).destination=t,e.trigger(n),n.isDefaultPrevented()||(f[a]?f[a](e,t):f._default(e,t,a),(i=d.default.Event("acf_duplicated:"+a)).destination=t,e.trigger(i))}((0,d.default)(n[e]),(0,d.default)(i[e])):(console.trace("Error: source fields do not match destination fields"),!1)})}function n(a,e){var n=d.default.extend({},a);return d.default.each(e,function(e,t){if(void 0!==a[e]){if("events"===e)return void(a.events=d.default.extend(a.events,t));"function"==typeof t&&(n[e]=a[e])}a[e]=t}),a.parent=n,a}var i={events:{'click [data-name="duplicate-layout"]':"_duplicate"},render:function(){var e;return console.log("render",this),e=this.parent.render.apply(this,arguments),this.$layouts().each(function(e,t){(0,d.default)(this).find('[data-name="duplicate-layout"]').length||(0,d.default)(this).find(".acf-fc-layout-controls").prepend(a.duplicate_flexible_btn)}),e},_duplicate:function(e){var t,a,n;(a=(0,d.default)(e.target).closest(".layout")).closest(".acf-field"),this.add({layout:a.data("layout"),before:a}),(n=a.prev(".layout")).addClass("_duplicated"),l(a,n,"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field"),setTimeout(function(){n.removeClass("_duplicated")},125),(t=d.default.Event("acf_duplicated_layout")).destination=n,a.trigger(t)}};n(acf.models.FlexibleContentField.prototype,i),n(acf.models.RepeaterField.prototype,{events:{'click a[data-event="duplicate-row"]':"_duplicate"},render:function(){var e;return e=this.parent.render.apply(this,arguments),this.$rows().each(function(e){(0,d.default)(this).find("> td.remove").append(a.duplicate_repeater_btn)}),e},_duplicate:function(e){var t,a,n;(0,d.default)(e.target).hasClass("acf-icon")&&(t=(0,d.default)(e.target).closest(".acf-row"),(a=this.add({before:t})).addClass("_duplicated"),l(t,a),setTimeout(function(){a.removeClass("_duplicated")},125),(n=d.default.Event("acf_duplicated_row")).destination=a,t.trigger(n))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhZG1pbi9zcmMvanMvYWRtaW4vcmVwZWF0ZXItZHVwbGljYXRlL2luZGV4LmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIl9qcXVlcnkiLCJ3aW5kb3ciLCJnbG9iYWwiLCJvcHRpb25zIiwiYWNmX2R1cGxpY2F0ZV9yZXBlYXRlciIsImNvcHlfdmFsdWVfY2IiLCJfZGVmYXVsdCIsIiRzcmMiLCIkZGVzdCIsInR5cGUiLCIkc3JjZXMiLCJmaW5kIiwiYWNmIiwiZ2V0RmllbGQiLCJlYWNoIiwiZWwiLCJkZWZhdWx0IiwidGhpcyIsInZhbCIsImJ1dHRvbl9ncm91cCIsIiRkZXN0UmFkaW8iLCJwcm9wIiwidHJpZ2dlciIsImNoZWNrYm94IiwiJGRlc3RDQiIsImNvbG9yX3BpY2tlciIsInNyY0ZpZWxkIiwiZGVzdEZpZWxkIiwiJGlucHV0VGV4dCIsImlyaXMiLCJkYXRlX3BpY2tlciIsImRhdGVfdGltZV9waWNrZXIiLCJmaWxlIiwiJHNyY1VwbCIsIiRkZXN0VXBsIiwiaGFzQ2xhc3MiLCJmaXJzdCIsImh0bWwiLCJhZGRDbGFzcyIsImZsZXhpYmxlX2NvbnRlbnQiLCIkbGF5b3V0cyIsImxheW91dCIsIiRsYXlvdXQiLCJhZGQiLCJkYXRhIiwiY29weV92YWx1ZXMiLCJsYXN0IiwiZ2FsbGVyeSIsIiRzcmNMaXN0IiwiJGRlc3RMaXN0IiwibmFtZSIsImF0dHIiLCJjaGlsZHJlbiIsIiRjbG9uZSIsImNsb25lIiwiYXBwZW5kIiwiZ29vZ2xlX21hcCIsInNldFZhbHVlIiwiZ2V0VmFsdWUiLCJncm91cCIsImltYWdlIiwibGluayIsIiRzcmNOb2RlIiwiJGRlc3ROb2RlIiwib2VtYmVkIiwicG9zdF9vYmplY3QiLCJyYWRpbyIsInJhbmdlIiwicmVsYXRpb25zaGlwIiwiJGlucHV0IiwicmVwZWF0ZXIiLCJkZXN0Um93cyIsIiRyb3dzIiwicm93IiwiJG5ld19yb3ciLCJzZWxlY3QiLCJfc2VsZWN0b3IiLCIkc3JjU2VsZWN0IiwiJGRlc3RTZWxlY3QiLCIkZGVzdE9wdHMiLCJ0YXhvbm9teSIsInRleHRhcmVhIiwidGltZV9waWNrZXIiLCJ0cnVlX2ZhbHNlIiwidXNlciIsInd5c2l3eWciLCJlZGl0b3IiLCJkZXN0X2lkIiwidGlueW1jZSIsImdldCIsInNldENvbnRlbnQiLCJzYXZlIiwiJHNvdXJjZXMiLCIkZGVzdHMiLCJjb25zb2xlIiwidHJhY2UiLCJjb3B5RXZlbnQiLCJkb25lRXZlbnQiLCJFdmVudCIsImRlc3RpbmF0aW9uIiwiaXNEZWZhdWx0UHJldmVudGVkIiwiY29weV92YWx1ZSIsIl9leHRlbmQiLCJvYmoiLCJleHRlbmQiLCJwYXJlbnQiLCJrIiwidiIsImV2ZW50cyIsImZsZXhpYmxlQ29udGVudCIsImNsaWNrIFtkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdIiwicmVuZGVyIiwicmV0IiwibG9nIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwcmVwZW5kIiwiZHVwbGljYXRlX2ZsZXhpYmxlX2J0biIsIl9kdXBsaWNhdGUiLCJkdXBsaWNhdGVkRXZlbnQiLCIkbmV3X2xheW91dCIsInRhcmdldCIsImNsb3Nlc3QiLCJiZWZvcmUiLCJwcmV2Iiwic2V0VGltZW91dCIsInJlbW92ZUNsYXNzIiwibW9kZWxzIiwiRmxleGlibGVDb250ZW50RmllbGQiLCJwcm90b3R5cGUiLCJSZXBlYXRlckZpZWxkIiwiY2xpY2sgYVtkYXRhLWV2ZW50PVwiZHVwbGljYXRlLXJvd1wiXSIsImR1cGxpY2F0ZV9yZXBlYXRlcl9idG4iLCIkc291cmNlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxRQUFBLElBQUFiLEVBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLE9BQUFJLEVBQUFILEVBQUFJLEdBQUEsR0FBQUwsSUFBQUEsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRyxHQUFBUyxRQUFBLElBQUEsSUFBQUwsRUFBQSxtQkFBQUQsU0FBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxJQUFBRCxFQUFBRCxFQUFBRSxJQUFBLE9BQUFELEVBQUEsQ0FBQSxDQUFBYSxFQUFBLENBQUEsU0FBQVQsRUFBQVUsRUFBQUosNkJDQUEsTUFBQUssS0FBQSxvQkFBQUMsT0FBQUEsT0FBQSxZQUFBLElBQUFDLEVBQUFBLEVBQUEsT0FBQSxrQ0FHQSxJQUFJQyxFQUFVQyx1QkFBdUJELFFBTXBDRSxFQUFnQixDQUNmQyxTQUFVLFNBQVVDLEVBQU1DLEVBQU9DLEdBQ2hDLElBQUlDLEVBQVNILEVBQUtJLEtBQUssVUFBVUYsRUFBSyxNQUMxQkcsSUFBSUMsU0FBU04sR0FDWkssSUFBSUMsU0FBU0wsR0FHMUJBLEVBQU1HLEtBQUssVUFBVUYsRUFBSyxNQUFNSyxLQUFLLFNBQVM1QixFQUFFNkIsSUFFL0MsRUFBQWYsRUFBQWdCLFNBQUVDLE1BQU1DLEtBQUssRUFBQWxCLEVBQUFnQixTQUFHTixFQUFPeEIsSUFBS2dDLFVBSTlCQyxhQUFjLFNBQVVaLEVBQU1DLEdBQzdCLElBQUlZLEVBQWFaLEVBQU1HLEtBQUssa0JBQzVCSixFQUFLSSxLQUFLLGtCQUFrQkcsS0FBTSxTQUFTNUIsRUFBRTZCLEdBQzVDLElBQUssRUFBQWYsRUFBQWdCLFNBQUVELEdBQUlNLEtBQUssV0FFZixPQURBLEVBQUFyQixFQUFBZ0IsU0FBR0ksRUFBV2xDLElBQUtvQyxRQUFRLFVBQ3BCLEtBSVZDLFNBQVUsU0FBVWhCLEVBQU1DLEdBQ3pCLElBQUlnQixFQUFVaEIsRUFBTUcsS0FBSyxxQkFDekJKLEVBQUtJLEtBQUsscUJBQXFCRyxLQUFNLFNBQVM1QixFQUFFNkIsSUFDL0MsRUFBQWYsRUFBQWdCLFNBQUdRLEVBQVF0QyxJQUFLbUMsS0FBSyxXQUFXLEVBQUFyQixFQUFBZ0IsU0FBRUQsR0FBSU0sS0FBSyxlQUc3Q0ksYUFBYyxTQUFVbEIsRUFBTUMsR0FDN0IsSUFBSWtCLEVBQVdkLElBQUlDLFNBQVNOLEdBQzNCb0IsRUFBWWYsSUFBSUMsU0FBU0wsR0FDekJVLEVBQU1RLEVBQVNFLGFBQWFWLE1BRTdCUyxFQUFVQyxhQUFhQyxLQUFNLFNBQVUsUUFBU1gsSUFFakRZLFlBQWEsU0FBVXZCLEVBQU1DLEdBQzVCSCxFQUFhLFNBQWFFLEVBQU1DLEVBQU8sUUFDdkNILEVBQWEsU0FBYUUsRUFBTUMsRUFBTyxXQUV4Q3VCLGlCQUFrQixTQUFVeEIsRUFBTUMsR0FDakNILEVBQWEsU0FBYUUsRUFBTUMsRUFBTyxRQUN2Q0gsRUFBYSxTQUFhRSxFQUFNQyxFQUFPLFdBRXhDd0IsS0FBTSxTQUFVekIsRUFBTUMsR0FDckIsSUFBSXlCLEVBQVUxQixFQUFLSSxLQUFLLHNCQUN2QnVCLEVBQVcxQixFQUFNRyxLQUFLLHNCQUd2Qk4sRUFBYSxTQUFjRSxFQUFNQyxFQUFPLFVBRW5DeUIsRUFBUUUsU0FBUyxlQUNyQkQsRUFBU3ZCLEtBQUssT0FBT3lCLFFBQVFDLEtBQU1KLEVBQVF0QixLQUFLLE9BQU95QixRQUFRQyxRQUMvRDdCLEVBQU1HLEtBQUssc0JBQXNCMkIsU0FBUyxlQUc1Q0MsaUJBQWtCLFNBQVVoQyxFQUFNQyxHQUNqQyxJQUNDa0IsRUFBV2QsSUFBSUMsU0FBU04sR0FDeEJvQixFQUFZZixJQUFJQyxTQUFTTCxHQUcxQmtCLEVBQVNjLFdBQVcxQixLQUFLLFNBQVM1QixFQUFFdUQsR0FFbkMsSUFBSUMsR0FBVSxFQUFBMUMsRUFBQWdCLFNBQUV5QixHQUdoQmQsRUFBVWdCLElBQUssQ0FBRUYsT0FBUUMsRUFBUUUsS0FBSyxZQUt0Q0MsRUFBYUgsRUFIQ2YsRUFBVWEsV0FBV00sT0FHQSwrRUFJckNDLFFBQVMsU0FBVXhDLEVBQU1DLEdBRXhCLElBQUl3QyxFQUFXekMsRUFBS0ksS0FBSyw0QkFDeEJzQyxFQUFZekMsRUFBTUcsS0FBSyw0QkFFdkJ1QyxFQURTMUMsRUFBTUcsS0FBSyx3QkFDTndDLEtBQUssUUFBVSxLQUU5QkgsRUFBU0ksV0FBV3RDLEtBQUssU0FBUzVCLEVBQUU2QixHQUNuQ3NDLFFBQVMsRUFBQXJELEVBQUFnQixTQUFFRCxHQUFJdUMsUUFDZkQsT0FBTzFDLEtBQUssbUJBQW1Cd0MsS0FBTSxPQUFRRCxHQUM3Q0QsRUFBVU0sT0FBT0YsV0FHbkJHLFdBQVksU0FBVWpELEVBQU1DLEdBQzNCLElBQUlrQixFQUFXZCxJQUFJQyxTQUFTTixHQUNmSyxJQUFJQyxTQUFTTCxHQUNoQmlELFNBQVUvQixFQUFTZ0MsYUFHOUJDLE1BQU8sU0FBVXBELEVBQU1DLEdBQ3RCcUMsRUFBYXRDLEVBQU1DLEVBQU8sdUdBRTNCb0QsTUFBTyxTQUFVckQsRUFBTUMsR0FFdEJILEVBQWEsU0FBY0UsRUFBTUMsRUFBTyxVQUN4Q0EsRUFBTUcsS0FBSyxPQUFPd0MsS0FBSyxNQUFPNUMsRUFBS0ksS0FBSyxPQUFPd0MsS0FBSyxRQUMvQzVDLEVBQUtJLEtBQUssdUJBQXVCd0IsU0FBUyxjQUM5QzNCLEVBQU1HLEtBQUssdUJBQXVCMkIsU0FBUyxjQUc3Q3VCLEtBQU0sU0FBVXRELEVBQU1DLEdBQ3JCLElBQUlzRCxFQUFXdkQsRUFBS0ksS0FBSyxjQUN4Qm9ELEVBQVl2RCxFQUFNRyxLQUFLLGNBRXhCb0QsRUFBVTFCLEtBQU15QixFQUFTekIsUUFDekIwQixFQUFVWixLQUFNLE9BQVFXLEVBQVNYLEtBQU0sU0FDdkNZLEVBQVVaLEtBQU0sU0FBVVcsRUFBU1gsS0FBTSxXQUV6Q1ksRUFBVXpDLFFBQVEsV0FFbkIwQyxPQUFRLFNBQVV6RCxFQUFNQyxHQUN2QkEsRUFBTUcsS0FBSyw4QkFDVE8sSUFBS1gsRUFBS0ksS0FBSyxtQkFBbUJPLE9BQ2xDSSxRQUFRLFNBRVgyQyxZQUFhLFNBQVUxRCxFQUFNQyxHQUM1QkgsRUFBYSxPQUFXRSxFQUFNQyxJQUUvQjBELE1BQU8sU0FBVTNELEVBQU1DLEdBQ3RCSCxFQUFhLGFBQWlCRSxFQUFNQyxHQUNwQ0gsRUFBYSxTQUFhRSxFQUFNQyxFQUFNLFNBRXZDMkQsTUFBTyxTQUFVNUQsRUFBTUMsR0FDdEJILEVBQWEsU0FBYUUsRUFBTUMsRUFBTSxTQUN0Q0gsRUFBYSxTQUFhRSxFQUFNQyxFQUFNLFdBRXZDNEQsYUFBYyxTQUFVN0QsRUFBTUMsR0FDN0IsSUFBSXlDLEVBQVl6QyxFQUFNRyxLQUFLLG1CQUMxQjBELEVBQVM3RCxFQUFNRyxLQUFLLHFCQUFxQnlDLFNBQVMsd0JBQ2xERixFQUFPbUIsRUFBT2xCLEtBQUssUUFBVSxLQUU5QjVDLEVBQUtJLEtBQUssbUJBQW1CeUMsV0FBV3RDLEtBQUssU0FBUzVCLEVBQUU2QixHQUN2RCxJQUFJc0MsR0FBUyxFQUFBckQsRUFBQWdCLFNBQUVELEdBQUl1QyxRQUNuQkQsRUFBTzFDLEtBQUssbUJBQW1Cd0MsS0FBTSxPQUFRRCxHQUM3Q0QsRUFBVU0sT0FBT0YsS0FFbEJnQixFQUFPL0MsUUFBUSxXQUVoQmdELFNBQVMsU0FBVS9ELEVBQU1DLEdBQ3hCLElBQUlrQixFQUFXZCxJQUFJQyxTQUFTTixHQUMzQm9CLEVBQVlmLElBQUlDLFNBQVNMLEdBQ3pCK0QsRUFBVzVDLEVBQVU2QyxRQUV0QjlDLEVBQVM4QyxRQUFRMUQsS0FBSyxTQUFTNUIsRUFBRXVGLEdBQ3pCRixFQUFTckYsR0FHZndGLFVBQVcsRUFBQTFFLEVBQUFnQixTQUFFdUQsRUFBU3JGLElBRnRCd0YsU0FBVy9DLEVBQVVnQixNQUt0QkUsR0FBYSxFQUFBN0MsRUFBQWdCLFNBQUV5RCxHQUFNQyxTQUFVLCtDQVVqQ0MsT0FBUSxTQUFVcEUsRUFBTUMsRUFBT29FLEdBQzlCQSxFQUFZQSxHQUFhLHlCQUN6QixJQUFJQyxFQUFhdEUsRUFBS0ksS0FBTWlFLEdBQzNCRSxFQUFjdEUsRUFBTUcsS0FBTWlFLEdBRUUsRUFBeEJDLEVBQVdqQyxLQUFLLFFBRXBCa0MsRUFBWXpDLEtBQUssSUFDakJ3QyxFQUFXbEUsS0FBSyxVQUFVRyxLQUFLLFNBQVM1QixFQUFFNkIsR0FDekMrRCxFQUFZdkIsUUFBTyxFQUFBdkQsRUFBQWdCLFNBQUVELEdBQUl1QyxZQUczQnlCLFVBQVlELEVBQVluRSxLQUFLLFVBQzdCa0UsRUFBV2xFLEtBQUssVUFBVUcsS0FBSyxTQUFTNUIsRUFBRTZCLElBQ3pDLEVBQUFmLEVBQUFnQixTQUFHK0QsVUFBVTdGLElBQUttQyxLQUFLLFlBQVksRUFBQXJCLEVBQUFnQixTQUFFRCxHQUFJTSxLQUFLLGdCQUdoRDJELFNBQVUsU0FBVXpFLEVBQU1DLEdBQ3pCSCxFQUFhLE1BQVVFLEVBQU1DLEdBQzdCSCxFQUFhLFNBQWFFLEVBQU1DLEdBQ2hDSCxFQUFhLE9BQVdFLEVBQU1DLEVBQU8sZ0RBRXRDeUUsU0FBVSxTQUFVMUUsRUFBTUMsR0FDekJBLEVBQU1HLEtBQUssWUFBWU8sSUFBS1gsRUFBS0ksS0FBSyxZQUFZTyxRQUVuRGdFLFlBQWEsU0FBVTNFLEVBQU1DLEdBQzVCSCxFQUFhLFNBQWFFLEVBQU1DLEVBQU8sUUFDdkNILEVBQWEsU0FBYUUsRUFBTUMsRUFBTyxXQUV4QzJFLFdBQVksU0FBVTVFLEVBQU1DLEdBQzNCQSxFQUFNRyxLQUFLLHFCQUFxQlUsS0FBSyxVQUFXZCxFQUFLSSxLQUFLLHFCQUFxQlUsS0FBSyxZQUNwRmIsRUFBTUcsS0FBSyxxQkFBcUJXLFFBQVEsV0FFekM4RCxLQUFNLFNBQVU3RSxFQUFNQyxHQUNyQkgsRUFBYSxPQUFZRSxFQUFNQyxJQUVoQzZFLFFBQVMsU0FBVTlFLEVBQU1DLEdBQ3hCLElBRzRCOEUsRUFIeEI1RCxFQUFXZCxJQUFJQyxTQUFTTixHQUMzQm9CLEVBQVlmLElBQUlDLFNBQVNMLEdBQ3pCK0UsRUFBVTVELEVBQVUwQyxTQUFTbEIsS0FBSyxNQUNsQ2pDLEVBQU1RLEVBQVNnQyxZQUVoQjRCLEVBQVNFLFFBQVFDLElBQUtGLEtBSXJCRCxFQUFPSSxXQUFZeEUsR0FDbkJWLEVBQU1HLEtBQUssWUFBWU8sSUFBS1gsRUFBS0ksS0FBSyxZQUFZTyxPQUNsRG9FLEVBQU9LLFFBR1BoRSxFQUFVMEMsU0FBU2hDLEtBQU1uQixLQWlEN0IsU0FBUzJCLEVBQWF0QyxFQUFNQyxFQUFPb0UsR0FFakNBLEVBQVlBLEdBQWEsMkNBRDFCLElBRUNnQixFQUFXckYsRUFBS0ksS0FBTWlFLEdBQ3RCaUIsRUFBVXJGLEVBQU1HLEtBQU1pRSxHQUV2QmdCLEVBQVM5RSxLQUFNLFNBQVU1QixFQUFHNkIsR0FDM0IsT0FBTzhFLEVBQU8zRyxJQUlULEVBQUFjLEVBQUFnQixTQUFHNEUsRUFBUzFHLElBQUswRCxLQUFLLFdBQVksRUFBQTVDLEVBQUFnQixTQUFFNkUsRUFBTzNHLElBQUkwRCxLQUFLLFNBQ3hEa0QsUUFBUUMsTUFBTSxtRUFDUCxRQW5EVixTQUFxQnhGLEVBQU1DLEdBQzFCLElBQUlDLEVBQ0h1RixFQUNBQyxFQUVEeEYsRUFBT0YsRUFBSzRDLEtBQUssY0FFakI2QyxFQUFZaEcsRUFBQWdCLFFBQUVrRixNQUFPLGlCQUFtQnpGLElBQzlCMEYsWUFBYzNGLEVBRXhCRCxFQUFLZSxRQUFTMEUsR0FHVEEsRUFBVUksdUJBSVIvRixFQUFlSSxHQUlyQkosRUFBY0ksR0FBT0YsRUFBTUMsR0FGM0JILEVBQWNDLFNBQVVDLEVBQU1DLEVBQU9DLElBS3RDd0YsRUFBWWpHLEVBQUFnQixRQUFFa0YsTUFBTyxrQkFBb0J6RixJQUMvQjBGLFlBQWMzRixFQUV4QkQsRUFBS2UsUUFBUzJFLElBMEJiSSxFQUFZLEVBQUFyRyxFQUFBZ0IsU0FBRzRFLEVBQVMxRyxLQUFNLEVBQUFjLEVBQUFnQixTQUFFNkUsRUFBTzNHLE1BUHRDNEcsUUFBUUMsTUFBTSx5REFDUCxLQWNJLFNBQVZPLEVBQW1CQyxFQUFJQyxHQUMxQixJQUFJQyxFQUFTekcsRUFBQWdCLFFBQUV3RixPQUFPLEdBQUdELEdBYXpCLE9BWkF2RyxFQUFBZ0IsUUFBRUYsS0FBSzBGLEVBQU8sU0FBU0UsRUFBRUMsR0FDeEIsUUFBSyxJQUF1QkosRUFBSUcsR0FBSyxDQUNwQyxHQUFLLFdBQWFBLEVBRWpCLFlBREFILEVBQUlLLE9BQVM1RyxFQUFBZ0IsUUFBRXdGLE9BQVFELEVBQUlLLE9BQVFELElBRXhCLG1CQUFzQkEsSUFDakNGLEVBQU9DLEdBQUtILEVBQUlHLElBR2xCSCxFQUFJRyxHQUFLQyxJQUVWSixFQUFJRSxPQUFTQSxFQUNORixFQWRSLElBaUJNTSxFQUFrQixDQUN2QkQsT0FBUSxDQUNQRSx1Q0FBd0MsY0FFekNDLE9BQVEsV0FFUCxJQUFJQyxFQWFKLE9BWEFsQixRQUFRbUIsSUFBSSxTQUFTaEcsTUFFckIrRixFQUFNL0YsS0FBS3dGLE9BQU9NLE9BQU9HLE1BQU9qRyxLQUFNa0csV0FHdENsRyxLQUFLdUIsV0FBVzFCLEtBQUssU0FBVTVCLEVBQUc2QixJQUMxQixFQUFBZixFQUFBZ0IsU0FBRUMsTUFBTU4sS0FBSyxrQ0FBa0NkLFNBQ3JELEVBQUFHLEVBQUFnQixTQUFFQyxNQUFNTixLQUFLLDJCQUEyQnlHLFFBQVNqSCxFQUFRa0gsMEJBSXBETCxHQUVSTSxXQUFZLFNBQVV4SSxHQUNyQixJQUNDeUksRUFFQTdFLEVBQ0E4RSxHQUdEOUUsR0FBVSxFQUFBMUMsRUFBQWdCLFNBQUVsQyxFQUFFMkksUUFBUUMsUUFBUSxZQUdiQSxRQUFRLGNBTXpCekcsS0FBSzBCLElBQUssQ0FDVEYsT0FBUUMsRUFBUUUsS0FBSyxVQUNyQitFLE9BQVFqRixLQUlUOEUsRUFBYzlFLEVBQVFrRixLQUFNLFlBQ2hCdEYsU0FBUyxlQUdyQk8sRUFBYUgsRUFBUzhFLEVBQWEsNEVBRW5DSyxXQUFXLFdBQ1ZMLEVBQVlNLFlBQVksZ0JBQ3RCLE1BRUhQLEVBQWtCdkgsRUFBQWdCLFFBQUVrRixNQUFPLDBCQUNYQyxZQUFjcUIsRUFFOUI5RSxFQUFRcEIsUUFBU2lHLEtBS25CakIsRUFBUzFGLElBQUltSCxPQUFPQyxxQkFBcUJDLFVBQVdwQixHQUtuRFAsRUFBUzFGLElBQUltSCxPQUFPRyxjQUFjRCxVQUFXLENBQzdDckIsT0FBUSxDQUNQdUIsc0NBQXVDLGNBRXhDcEIsT0FBUSxXQUVQLElBQUlDLEVBU0osT0FQQUEsRUFBTS9GLEtBQUt3RixPQUFPTSxPQUFPRyxNQUFPakcsS0FBTWtHLFdBR3RDbEcsS0FBS3VELFFBQVExRCxLQUFLLFNBQVM1QixJQUMxQixFQUFBYyxFQUFBZ0IsU0FBRUMsTUFBTU4sS0FBSyxlQUFlNEMsT0FBUXBELEVBQVFpSSwwQkFHdENwQixHQUVSTSxXQUFZLFNBQVV4SSxHQUVyQixJQUFJdUosRUFBUzdILEVBQU8rRyxHQUdoQixFQUFBdkgsRUFBQWdCLFNBQUVsQyxFQUFFMkksUUFBUXRGLFNBQVMsY0FDeEJrRyxHQUFVLEVBQUFySSxFQUFBZ0IsU0FBRWxDLEVBQUUySSxRQUFRQyxRQUFRLGFBSy9CbEgsRUFBUVMsS0FBSzBCLElBQUssQ0FBRWdGLE9BQVFVLEtBQ3RCL0YsU0FBUyxlQUVmTyxFQUFhd0YsRUFBUzdILEdBRXRCcUgsV0FBVyxXQUNWckgsRUFBTXNILFlBQVksZ0JBQ2hCLE1BRUhQLEVBQWtCdkgsRUFBQWdCLFFBQUVrRixNQUFPLHVCQUNYQyxZQUFjM0YsRUFFOUI2SCxFQUFRL0csUUFBU2lHIiwiZmlsZSI6ImFkbWluL3JlcGVhdGVyLWR1cGxpY2F0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5cbnZhciBvcHRpb25zID0gYWNmX2R1cGxpY2F0ZV9yZXBlYXRlci5vcHRpb25zLFxuXG5cblx0LyoqXG5cdCAqXHR2YWx1ZSBjb3B5IGNhbGxiYWNrc1xuXHQgKi9cblx0Y29weV92YWx1ZV9jYiA9IHtcblx0XHRfZGVmYXVsdDogZnVuY3Rpb24oICRzcmMsICRkZXN0LCB0eXBlICkgeyAvLyBPS0FZXG5cdFx0XHR2YXIgJHNyY2VzID0gJHNyYy5maW5kKCdbdHlwZT1cIicrdHlwZSsnXCJdJyksXG5cdFx0XHRcdHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRkZXN0RmllbGQgPSBhY2YuZ2V0RmllbGQoJGRlc3QpO1xuXHRcdFx0Ly9kZXN0RmllbGQudmFsKCBzcmNGaWVsZC52YWwgKTtcblxuXHRcdFx0JGRlc3QuZmluZCgnW3R5cGU9XCInK3R5cGUrJ1wiXScpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdC8vY29uc29sZS5sb2codHlwZSx0aGlzLCRzcmNlc1tpXSwkKCAkc3JjZXNbaV0gKS52YWwoKSlcblx0XHRcdFx0JCh0aGlzKS52YWwoICQoICRzcmNlc1tpXSApLnZhbCgpICk7XG5cdFx0XHR9KTtcblxuXHRcdH0sXG5cdFx0YnV0dG9uX2dyb3VwOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdHZhciAkZGVzdFJhZGlvID0gJGRlc3QuZmluZCgnW3R5cGU9XCJyYWRpb1wiXScpO1xuXHRcdFx0JHNyYy5maW5kKCdbdHlwZT1cInJhZGlvXCJdJykuZWFjaCggZnVuY3Rpb24oaSxlbCkge1xuXHRcdFx0XHRpZiAoICQoZWwpLnByb3AoJ2NoZWNrZWQnKSApIHtcblx0XHRcdFx0XHQkKCAkZGVzdFJhZGlvW2ldICkudHJpZ2dlcignY2xpY2snICk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGNoZWNrYm94OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdHZhciAkZGVzdENCID0gJGRlc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpO1xuXHRcdFx0JHNyYy5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdJykuZWFjaCggZnVuY3Rpb24oaSxlbCkge1xuXHRcdFx0XHQkKCAkZGVzdENCW2ldICkucHJvcCgnY2hlY2tlZCcsICQoZWwpLnByb3AoJ2NoZWNrZWQnKSApO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRjb2xvcl9waWNrZXI6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0dmFyIHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRkZXN0RmllbGQgPSBhY2YuZ2V0RmllbGQoJGRlc3QpLFxuXHRcdFx0XHR2YWwgPSBzcmNGaWVsZC4kaW5wdXRUZXh0KCkudmFsKCk7XG5cblx0XHRcdGRlc3RGaWVsZC4kaW5wdXRUZXh0KCkuaXJpcyggJ29wdGlvbicsICdjb2xvcicsIHZhbCApO1xuXHRcdH0sXG5cdFx0ZGF0ZV9waWNrZXI6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ3RleHQnICk7XG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdH0sXG5cdFx0ZGF0ZV90aW1lX3BpY2tlcjogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAndGV4dCcgKTtcblx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0fSxcblx0XHRmaWxlOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdHZhciAkc3JjVXBsID0gJHNyYy5maW5kKCcuYWNmLWZpbGUtdXBsb2FkZXInKSxcblx0XHRcdFx0JGRlc3RVcGwgPSAkZGVzdC5maW5kKCcuYWNmLWZpbGUtdXBsb2FkZXInKTtcblxuXHRcdFx0Ly8gc2V0IGhpZGRlblxuXHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSggJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cblx0XHRcdGlmICggJHNyY1VwbC5oYXNDbGFzcygnaGFzLXZhbHVlJykgKSB7XG5cdFx0XHRcdCRkZXN0VXBsLmZpbmQoJ2RpdicpLmZpcnN0KCkuaHRtbCggJHNyY1VwbC5maW5kKCdkaXYnKS5maXJzdCgpLmh0bWwoKSApO1xuXHRcdFx0XHQkZGVzdC5maW5kKCcuYWNmLWZpbGUtdXBsb2FkZXInKS5hZGRDbGFzcygnaGFzLXZhbHVlJylcblx0XHRcdH1cblx0XHR9LFxuXHRcdGZsZXhpYmxlX2NvbnRlbnQ6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHtcblx0XHRcdHZhciBzZWxlY3RvciA9ICc+IC5hY2YtaW5wdXQgPiAuYWNmLWZsZXhpYmxlLWNvbnRlbnQgPiAudmFsdWVzID4gLmxheW91dCcsXG5cdFx0XHRcdHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRkZXN0RmllbGQgPSBhY2YuZ2V0RmllbGQoJGRlc3QpO1xuXHRcdFx0Ly9hY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQuc2V0KCAnJGZpZWxkJywgJGRlc3QgKTtcblxuXHRcdFx0c3JjRmllbGQuJGxheW91dHMoKS5lYWNoKGZ1bmN0aW9uKGksbGF5b3V0KXtcblx0XHRcdFx0Ly8gZWFjaCByZXBlYXRlciBlbnRyeS4uLiBmaW5kIGZpZWxkcyBpbiByZXBlYXRlciBlbnRyeVxuXHRcdFx0XHR2YXIgJGxheW91dCA9ICQobGF5b3V0KSxcblx0XHRcdFx0XHQkbmV3X2xheW91dDtcblxuXHRcdFx0XHRkZXN0RmllbGQuYWRkKCB7IGxheW91dDogJGxheW91dC5kYXRhKCdsYXlvdXQnKSB9ICk7XG5cblx0XHRcdFx0JG5ld19sYXlvdXQgPSBkZXN0RmllbGQuJGxheW91dHMoKS5sYXN0KCk7XG5cblx0XHRcdFx0Ly8gdGJsICsgYmxvY2sgKyByb3dcblx0XHRcdFx0Y29weV92YWx1ZXMoICRsYXlvdXQsICRuZXdfbGF5b3V0LCAnPiAuYWNmLXRhYmxlID4gdGJvZHkgPiAuYWNmLXJvdyA+IC5hY2YtZmllbGQsID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApOyAvLyBleGNsdWRlIGNsb25lcyFcblxuXHRcdFx0fSk7IC8vIHRhYmxlXG5cdFx0fSxcblx0XHRnYWxsZXJ5OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdC8vIGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHR2YXIgJHNyY0xpc3QgPSAkc3JjLmZpbmQoJy5hY2YtZ2FsbGVyeS1hdHRhY2htZW50cycpLFxuXHRcdFx0XHQkZGVzdExpc3QgPSAkZGVzdC5maW5kKCcuYWNmLWdhbGxlcnktYXR0YWNobWVudHMnKSxcblx0XHRcdFx0JGlucHV0ID0gJGRlc3QuZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLFxuXHRcdFx0XHRuYW1lID0gJGlucHV0LmF0dHIoJ25hbWUnKSArICdbXSc7XG5cblx0XHRcdCRzcmNMaXN0LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0JGNsb25lID0gJChlbCkuY2xvbmUoKTtcblx0XHRcdFx0JGNsb25lLmZpbmQoJ1t0eXBlPVwiaGlkZGVuXCJdJykuYXR0ciggJ25hbWUnLCBuYW1lICk7XG5cdFx0XHRcdCRkZXN0TGlzdC5hcHBlbmQoJGNsb25lKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0Z29vZ2xlX21hcDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCk7XG5cdFx0XHRkZXN0RmllbGQuc2V0VmFsdWUoIHNyY0ZpZWxkLmdldFZhbHVlKCkgKTtcbi8vXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdH0sXG5cdFx0Z3JvdXA6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHtcblx0XHRcdGNvcHlfdmFsdWVzKCAkc3JjLCAkZGVzdCwgJz4gLmFjZi1pbnB1dCA+IC5hY2YtdGFibGUgPiB0Ym9keSA+IC5hY2Ytcm93ID4gLmFjZi1maWVsZCwgPiAuYWNmLWlucHV0ID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApOyAvLyBleGNsdWRlIGNsb25lcyFcblx0XHR9LFxuXHRcdGltYWdlOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdC8vIHNldCBoaWRkZW5cblx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oICRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdFx0JGRlc3QuZmluZCgnaW1nJykuYXR0cignc3JjJywgJHNyYy5maW5kKCdpbWcnKS5hdHRyKCdzcmMnKSApXG5cdFx0XHRpZiAoICRzcmMuZmluZCgnLmFjZi1pbWFnZS11cGxvYWRlcicpLmhhc0NsYXNzKCdoYXMtdmFsdWUnKSApIHtcblx0XHRcdFx0JGRlc3QuZmluZCgnLmFjZi1pbWFnZS11cGxvYWRlcicpLmFkZENsYXNzKCdoYXMtdmFsdWUnKVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bGluazogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHR2YXIgJHNyY05vZGUgPSAkc3JjLmZpbmQoJy5saW5rLW5vZGUnKSxcblx0XHRcdFx0JGRlc3ROb2RlID0gJGRlc3QuZmluZCgnLmxpbmstbm9kZScpO1xuXG5cdFx0XHQkZGVzdE5vZGUuaHRtbCggJHNyY05vZGUuaHRtbCgpICk7XG5cdFx0XHQkZGVzdE5vZGUuYXR0ciggJ2hyZWYnLCAkc3JjTm9kZS5hdHRyKCAnaHJlZicgKSApO1xuXHRcdFx0JGRlc3ROb2RlLmF0dHIoICd0YXJnZXQnLCAkc3JjTm9kZS5hdHRyKCAndGFyZ2V0JyApICk7XG5cblx0XHRcdCRkZXN0Tm9kZS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHR9LFxuXHRcdG9lbWJlZDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHQkZGVzdC5maW5kKCdbZGF0YS1uYW1lPVwic2VhcmNoLWlucHV0XCJdJylcblx0XHRcdFx0LnZhbCggJHNyYy5maW5kKCdbdHlwZT1cImhpZGRlblwiXScpLnZhbCgpIClcblx0XHRcdFx0LnRyaWdnZXIoJ2JsdXInKTtcblx0XHR9LFxuXHRcdHBvc3Rfb2JqZWN0OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdGNvcHlfdmFsdWVfY2JbJ3NlbGVjdCddKCRzcmMsICRkZXN0ICk7XG5cdFx0fSxcblx0XHRyYWRpbzogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydidXR0b25fZ3JvdXAnXSgkc3JjLCAkZGVzdCk7XG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCd0ZXh0Jyk7XG5cdFx0fSxcblx0XHRyYW5nZTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCdyYW5nZScpO1xuXHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwnbnVtYmVyJyk7XG5cdFx0fSxcblx0XHRyZWxhdGlvbnNoaXA6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0dmFyICRkZXN0TGlzdCA9ICRkZXN0LmZpbmQoJy52YWx1ZXMgPiAubGlzdCcpLFxuXHRcdFx0XHQkaW5wdXQgPSAkZGVzdC5maW5kKCcuYWNmLXJlbGF0aW9uc2hpcCcpLmNoaWxkcmVuKCdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdJyksXG5cdFx0XHRcdG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpICsgJ1tdJztcblxuXHRcdFx0JHNyYy5maW5kKCcudmFsdWVzID4gLmxpc3QnKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdHZhciAkY2xvbmUgPSAkKGVsKS5jbG9uZSgpO1xuXHRcdFx0XHQkY2xvbmUuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKS5hdHRyKCAnbmFtZScsIG5hbWUgKTtcblx0XHRcdFx0JGRlc3RMaXN0LmFwcGVuZCgkY2xvbmUpO1xuXHRcdFx0fSk7XG5cdFx0XHQkaW5wdXQudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0fSxcblx0XHRyZXBlYXRlcjpmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7XG5cdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCksXG5cdFx0XHRcdGRlc3RSb3dzID0gZGVzdEZpZWxkLiRyb3dzKCk7XG5cblx0XHRcdHNyY0ZpZWxkLiRyb3dzKCkuZWFjaChmdW5jdGlvbihpLHJvdykge1xuXHRcdFx0XHRpZiAoICEgZGVzdFJvd3NbaV0gKSB7XG5cdFx0XHRcdFx0JG5ld19yb3cgPSBkZXN0RmllbGQuYWRkKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JG5ld19yb3cgPSAkKGRlc3RSb3dzW2ldKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvcHlfdmFsdWVzKCAkKHJvdyksICRuZXdfcm93LCAnPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyAkc3JjLmZpbmQoJz4gLmFjZi1pbnB1dCA+IC5hY2YtcmVwZWF0ZXIgPiAuYWNmLXRhYmxlID4gdGJvZHkgPiAuYWNmLXJvdzpub3QoLmFjZi1jbG9uZSknKS5lYWNoKGZ1bmN0aW9uKGkscm93KXtcblx0XHRcdC8vIFx0Ly8gZWFjaCByZXBlYXRlciBlbnRyeS4uLiBmaW5kIGZpZWxkcyBpbiByZXBlYXRlciBlbnRyeVxuXHRcdFx0Ly8gXHR2YXIgJG5ld19yb3cgPSBhY2YuZmllbGRzLnJlcGVhdGVyLmFkZCgpO1xuXHRcdFx0Ly9cblx0XHRcdC8vIFx0Y29weV92YWx1ZXMoICQocm93KSwgJG5ld19yb3csICc+IC5hY2YtZmllbGQsID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApOyAvLyBleGNsdWRlIGNsb25lcyFcblx0XHRcdC8vIH0pOyAvLyB0YWJsZVxuXHRcdH0sXG5cdFx0c2VsZWN0OiBmdW5jdGlvbiggJHNyYywgJGRlc3QsIF9zZWxlY3RvciApIHsgLy8gT0tBWVxuXHRcdFx0X3NlbGVjdG9yID0gX3NlbGVjdG9yIHx8ICcgPiAuYWNmLWlucHV0ID4gc2VsZWN0Jztcblx0XHRcdHZhciAkc3JjU2VsZWN0ID0gJHNyYy5maW5kKCBfc2VsZWN0b3IgKSxcblx0XHRcdFx0JGRlc3RTZWxlY3QgPSAkZGVzdC5maW5kKCBfc2VsZWN0b3IgKTtcblxuXHRcdFx0aWYgKCAkc3JjU2VsZWN0LmRhdGEoJ3VpJykgKiAxICkge1xuXHRcdFx0XHQvLyBzb3J0ICRkZXN0IGxpa2UgJHNyY1xuXHRcdFx0XHQkZGVzdFNlbGVjdC5odG1sKCcnKTtcblx0XHRcdFx0JHNyY1NlbGVjdC5maW5kKCdvcHRpb24nKS5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuXHRcdFx0XHRcdCRkZXN0U2VsZWN0LmFwcGVuZCgkKGVsKS5jbG9uZSgpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHQkZGVzdE9wdHMgPSAkZGVzdFNlbGVjdC5maW5kKCdvcHRpb24nKTtcblx0XHRcdCRzcmNTZWxlY3QuZmluZCgnb3B0aW9uJykuZWFjaChmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRcdCQoICRkZXN0T3B0c1tpXSApLnByb3AoJ3NlbGVjdGVkJywgJChlbCkucHJvcCgnc2VsZWN0ZWQnKSApO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHR0YXhvbm9teTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydyYWRpbyddKCRzcmMsICRkZXN0KTtcblx0XHRcdGNvcHlfdmFsdWVfY2JbJ2NoZWNrYm94J10oJHNyYywgJGRlc3QpO1xuXHRcdFx0Y29weV92YWx1ZV9jYlsnc2VsZWN0J10oJHNyYywgJGRlc3QsICc+IC5hY2YtaW5wdXQgPiAuYWNmLXRheG9ub215LWZpZWxkID4gc2VsZWN0JyApO1xuXHRcdH0sXG5cdFx0dGV4dGFyZWE6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0JGRlc3QuZmluZCgndGV4dGFyZWEnKS52YWwoICRzcmMuZmluZCgndGV4dGFyZWEnKS52YWwoKSApO1xuXHRcdH0sXG5cdFx0dGltZV9waWNrZXI6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ3RleHQnICk7XG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdH0sXG5cdFx0dHJ1ZV9mYWxzZTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHQkZGVzdC5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdJykucHJvcCgnY2hlY2tlZCcsICRzcmMuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnKSApO1xuXHRcdFx0JGRlc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdH0sXG5cdFx0dXNlcjogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRjb3B5X3ZhbHVlX2NiWydzZWxlY3QnXSggJHNyYywgJGRlc3QgKTtcblx0XHR9LFxuXHRcdHd5c2l3eWc6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gLi4uXG5cdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCksXG5cdFx0XHRcdGRlc3RfaWQgPSBkZXN0RmllbGQuJGlucHV0KCkuYXR0cignaWQnKSxcblx0XHRcdFx0dmFsID0gc3JjRmllbGQuZ2V0VmFsdWUoKSwgZWRpdG9yO1xuXG5cdFx0XHRlZGl0b3IgPSB0aW55bWNlLmdldCggZGVzdF9pZCApO1xuXG5cdFx0XHRpZiAoICEhIGVkaXRvciApIHtcblx0XHRcdFx0Ly8gZWRpdG9yIGFscmVhZHkgaW5pdGVkXG5cdFx0XHRcdGVkaXRvci5zZXRDb250ZW50KCB2YWwgKTtcblx0XHRcdFx0JGRlc3QuZmluZCgndGV4dGFyZWEnKS52YWwoICRzcmMuZmluZCgndGV4dGFyZWEnKS52YWwoKSApXG5cdFx0XHRcdGVkaXRvci5zYXZlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBkZWxheWVkIGluaXRcblx0XHRcdFx0ZGVzdEZpZWxkLiRpbnB1dCgpLmh0bWwoIHZhbCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdH07XG5cbi8qKlxuICpcdENvcHkgdmFsdWVzIGZyb20gb25lIGFjZi1maWVsZCB0byBhbm90aGVyXG4gKlxuICpcdEBwYXJhbSAkc3JjIGpRdWVyeSBvYmplY3QgaG9sZGluZyB0aGUgLmFjZi1maWVsZCBvYmplY3QgdG8gY29weSBmcm9tXG4gKlx0QHBhcmFtICRkZXN0IGpRdWVyeSBvYmplY3QgaG9sZGluZyB0aGUgLmFjZi1maWVsZCBvYmplY3QgdG8gY29weSB0b1xuICovXG5mdW5jdGlvbiBjb3B5X3ZhbHVlKCAkc3JjLCAkZGVzdCApIHtcblx0dmFyIHR5cGUsXG5cdFx0Y29weUV2ZW50LFxuXHRcdGRvbmVFdmVudDtcblxuXHR0eXBlID0gJHNyYy5hdHRyKCdkYXRhLXR5cGUnKTtcblxuXHRjb3B5RXZlbnQgPSAkLkV2ZW50KCAnYWNmX2R1cGxpY2F0ZTonICsgdHlwZSApO1xuXHRjb3B5RXZlbnQuZGVzdGluYXRpb24gPSAkZGVzdDtcblxuXHQkc3JjLnRyaWdnZXIoIGNvcHlFdmVudCApO1xuXG5cdC8vIGFsbG93IGNhbmNlbGluZ1xuXHRpZiAoIGNvcHlFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoICEgY29weV92YWx1ZV9jYlsgdHlwZSBdICkge1xuXHRcdC8vIERlZmFsdCBiZWhhdmlvdXIgZm9yIHRleHQsIHJhbmdlLCB1cmwsIG51bWJlcixcblx0XHRjb3B5X3ZhbHVlX2NiLl9kZWZhdWx0KCAkc3JjLCAkZGVzdCwgdHlwZSApO1xuXHR9IGVsc2Uge1xuXHRcdGNvcHlfdmFsdWVfY2JbdHlwZV0oICRzcmMsICRkZXN0ICk7XG5cdH1cblxuXHRkb25lRXZlbnQgPSAkLkV2ZW50KCAnYWNmX2R1cGxpY2F0ZWQ6JyArIHR5cGUgKTtcblx0ZG9uZUV2ZW50LmRlc3RpbmF0aW9uID0gJGRlc3Q7XG5cblx0JHNyYy50cmlnZ2VyKCBkb25lRXZlbnQgKTtcbn1cblxuLyoqXG4gKlx0Q29weSB2YWx1ZXMgZnJvbSBvbmUgc2V0IG9mIGFjZi1maWVsZHMgdG8gYW5vdGhlci5cbiAqXHRJdCBpcyBhc3N1bWVkIHRoYXQgYm90aCAkc3JjIGFuZCAkZGVzdCBoYXZlIGlkZW50aWNhbCBmaWVsZHNcbiAqXG4gKlx0QHBhcmFtICRzcmMgalF1ZXJ5IG9iamVjdCBjb250YWluaW5nIHRoZSAuYWNmLWZpZWxkIG9iamVjdHMgdG8gY29weSBmcm9tXG4gKlx0QHBhcmFtICRkZXN0IGpRdWVyeSBvYmplY3QgY29udGFpbmluZyB0aGUgLmFjZi1maWVsZCBvYmplY3QgdG8gY29weSB0b1xuICpcdEBwYXJhbSBfc2VsZWN0b3IgY3NzIHNlbGVjdG9yIHRvIHNlbGVjdCAuYWNmLWZpZWxkcyBpbiBib3RoICRzcmMgYW5kICRkZXN0XG4gKi9cbmZ1bmN0aW9uIGNvcHlfdmFsdWVzKCAkc3JjLCAkZGVzdCwgX3NlbGVjdG9yICkge1xuXHR2YXIgZmllbGRfbWFwXHQ9IHt9LFxuXHRcdF9zZWxlY3RvciA9IF9zZWxlY3RvciB8fCAnPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcsXG5cdFx0JHNvdXJjZXNcdD0gJHNyYy5maW5kKCBfc2VsZWN0b3IgKSxcblx0XHQkZGVzdHNcdFx0PSAkZGVzdC5maW5kKCBfc2VsZWN0b3IgKTtcblxuXHQkc291cmNlcy5lYWNoKCBmdW5jdGlvbiggaSwgZWwgKXtcblx0XHRpZiAoICEgJGRlc3RzW2ldICkge1xuXHRcdFx0Y29uc29sZS50cmFjZSgnRXJyb3I6IHNvdXJjZSBmaWVsZHMgZG8gbm90IG1hdGNoIGRlc3RpbmF0aW9uIGZpZWxkcycpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRpZiAoICQoICRzb3VyY2VzW2ldICkuZGF0YSgndHlwZScpICE9PSAkKCRkZXN0c1tpXSkuZGF0YSgndHlwZScpICkge1xuXHRcdFx0Y29uc29sZS50cmFjZSgnRXJyb3I6IHNvdXJjZSBmaWVsZCB0eXBlIGRvZXMgbm90IG1hdGNoIGRlc3RpbmF0aW9uIGZpZWxkIHR5cGUnKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Y29weV92YWx1ZSggJCggJHNvdXJjZXNbaV0gKSwgJCgkZGVzdHNbaV0pICk7XG5cdH0pO1xufVxuXG4vKipcbiAqXHRFeHRlbmQgYWNmIGZsZXhpYmxlIGNvbnRlbnQgZmllbGRcbiAqL1xuXG52YXIgX2V4dGVuZCA9IGZ1bmN0aW9uKG9iaixleHRlbmQpIHtcblx0dmFyIHBhcmVudCA9ICQuZXh0ZW5kKHt9LG9iaik7XG5cdCQuZWFjaChleHRlbmQsZnVuY3Rpb24oayx2KSB7XG5cdFx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG9ialtrXSApIHtcblx0XHRcdGlmICggJ2V2ZW50cycgPT09IGsgKSB7XG5cdFx0XHRcdG9iai5ldmVudHMgPSAkLmV4dGVuZCggb2JqLmV2ZW50cywgdiApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGVsc2UgaWYgKCAnZnVuY3Rpb24nID09PSB0eXBlb2YgdiApIHtcblx0XHRcdFx0cGFyZW50W2tdID0gb2JqW2tdOyAvL1xuXHRcdFx0fVxuXHRcdH1cblx0XHRvYmpba10gPSB2O1xuXHR9KTtcblx0b2JqLnBhcmVudCA9IHBhcmVudDtcblx0cmV0dXJuIG9iajtcbn1cblxuY29uc3QgZmxleGlibGVDb250ZW50ID0ge1xuXHRldmVudHM6IHtcblx0XHQnY2xpY2sgW2RhdGEtbmFtZT1cImR1cGxpY2F0ZS1sYXlvdXRcIl0nOiAnX2R1cGxpY2F0ZSdcblx0fSxcblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciByZXQ7XG5cblx0XHRjb25zb2xlLmxvZyhcInJlbmRlclwiLHRoaXMpO1xuXG5cdFx0cmV0ID0gdGhpcy5wYXJlbnQucmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdC8vIGFkZCBkdXBsaWNhdGUgYnRuXG5cdFx0dGhpcy4kbGF5b3V0cygpLmVhY2goZnVuY3Rpb24oIGksIGVsICl7XG5cdFx0XHRpZiAoICEgJCh0aGlzKS5maW5kKCdbZGF0YS1uYW1lPVwiZHVwbGljYXRlLWxheW91dFwiXScpLmxlbmd0aCApIHtcblx0XHRcdFx0JCh0aGlzKS5maW5kKCcuYWNmLWZjLWxheW91dC1jb250cm9scycpLnByZXBlbmQoIG9wdGlvbnMuZHVwbGljYXRlX2ZsZXhpYmxlX2J0biApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblx0X2R1cGxpY2F0ZTogZnVuY3Rpb24oIGUgKSB7XG5cdFx0dmFyIGxheW91dCxcblx0XHRcdGR1cGxpY2F0ZWRFdmVudCxcblx0XHRcdCRmaWVsZCxcblx0XHRcdCRsYXlvdXQsICAvLyBvcmlnaW5hbCBmaWVsZFxuXHRcdFx0JG5ld19sYXlvdXQ7IC8vIGNsb25lZCBmaWVsZFxuXG5cdFx0Ly8gZ2V0IGxheW91dCB3cmFwcGVyXG5cdFx0JGxheW91dCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5sYXlvdXQnKTtcblxuXHRcdC8vIGdldCBmbGV4aWJsZV9jb250ZW50IGZpZWxkXG5cdFx0JGZpZWxkID0gJGxheW91dC5jbG9zZXN0KCcuYWNmLWZpZWxkJyk7XG5cblx0XHQvLyBhY2Ygc2V0IGZpZWxkIGNvbnRlbnh0XG5cdFx0Ly9hY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQuc2V0KCAnJGZpZWxkJywgJGZpZWxkICk7XG5cblx0XHQvLyBhY2YgYWRkIHRhcmdldCBsYXlvdXQgYmVmb3JlIHNvdXJjZSBsYXlvdXRcblx0XHR0aGlzLmFkZCgge1xuXHRcdFx0bGF5b3V0OiAkbGF5b3V0LmRhdGEoJ2xheW91dCcpLFxuXHRcdFx0YmVmb3JlOiAkbGF5b3V0LFxuXHRcdH0pO1xuXG5cdFx0Ly8gZ2V0IHRoZSBhZGRlZCBsYXlvdXRcblx0XHQkbmV3X2xheW91dCA9ICRsYXlvdXQucHJldiggJy5sYXlvdXQnICk7XG5cdFx0JG5ld19sYXlvdXQuYWRkQ2xhc3MoJ19kdXBsaWNhdGVkJyk7XG5cblx0XHQvLyBjb3B5IHZhbHVlcyBmcm9tIHNvdXJjZSBsYXlvdXQgdG8gZGVzdGluYXRpb25cblx0XHRjb3B5X3ZhbHVlcyggJGxheW91dCwgJG5ld19sYXlvdXQsICc+IC5hY2YtdGFibGUgPiB0Ym9keSA+IC5hY2Ytcm93ID4gLmFjZi1maWVsZCwgPiAuYWNmLWZpZWxkcyA+IC5hY2YtZmllbGQnICk7IC8vIGV4Y2x1ZGUgY2xvbmVzIVxuLy9cdFx0XHQkbmV3X2xheW91dC5yZW1vdmVDbGFzcygnX2R1cGxpY2F0ZWQnKTtcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHQkbmV3X2xheW91dC5yZW1vdmVDbGFzcygnX2R1cGxpY2F0ZWQnKTtcblx0XHR9LCAxMjUgKTtcblxuXHRcdGR1cGxpY2F0ZWRFdmVudCA9ICQuRXZlbnQoICdhY2ZfZHVwbGljYXRlZF9sYXlvdXQnICk7XG5cdFx0ZHVwbGljYXRlZEV2ZW50LmRlc3RpbmF0aW9uID0gJG5ld19sYXlvdXQ7XG5cblx0XHQkbGF5b3V0LnRyaWdnZXIoIGR1cGxpY2F0ZWRFdmVudCApO1xuXG5cdH1cbn07XG5cbl9leHRlbmQoIGFjZi5tb2RlbHMuRmxleGlibGVDb250ZW50RmllbGQucHJvdG90eXBlLCBmbGV4aWJsZUNvbnRlbnQgKTtcblxuLyoqXG4gKlx0RXh0ZW5kIGFjZiBmbGV4aWJsZSBjb250ZW50IGZpZWxkXG4gKi9cbiBfZXh0ZW5kKCBhY2YubW9kZWxzLlJlcGVhdGVyRmllbGQucHJvdG90eXBlLCB7XG5cdGV2ZW50czoge1xuXHRcdCdjbGljayBhW2RhdGEtZXZlbnQ9XCJkdXBsaWNhdGUtcm93XCJdJzogJ19kdXBsaWNhdGUnXG5cdH0sXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgcmV0O1xuXG5cdFx0cmV0ID0gdGhpcy5wYXJlbnQucmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdC8vIGFkZCBkdXBsaWNhdGUgYnRuXG5cdFx0dGhpcy4kcm93cygpLmVhY2goZnVuY3Rpb24oaSl7XG5cdFx0XHQkKHRoaXMpLmZpbmQoJz4gdGQucmVtb3ZlJykuYXBwZW5kKCBvcHRpb25zLmR1cGxpY2F0ZV9yZXBlYXRlcl9idG4gKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cdF9kdXBsaWNhdGU6IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0dmFyICRzb3VyY2UsICRkZXN0LCBkdXBsaWNhdGVkRXZlbnQ7XG5cblx0XHQvLyBnZXQgc291cmNlIHJvd1xuXHRcdGlmKCAkKGUudGFyZ2V0KS5oYXNDbGFzcygnYWNmLWljb24nKSApIHtcblx0XHRcdCRzb3VyY2UgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYWNmLXJvdycpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIGFkZCBkZXN0aW5hdGlvbiByb3dcblx0XHQkZGVzdCA9IHRoaXMuYWRkKCB7IGJlZm9yZTogJHNvdXJjZSB9ICk7IC8vIGFkZCBiZWZvcmUgc291cmNlIVxuXHRcdCRkZXN0LmFkZENsYXNzKCdfZHVwbGljYXRlZCcpO1xuXHRcdC8vIGNvcHkgdmFsdWVzIGZyb20gc291cmNlIHJvdyB0byBkZXN0aW5hdGlvblxuXHRcdGNvcHlfdmFsdWVzKCAkc291cmNlLCAkZGVzdCApO1xuXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0JGRlc3QucmVtb3ZlQ2xhc3MoJ19kdXBsaWNhdGVkJyk7XG5cdFx0fSwgMTI1ICk7XG5cblx0XHRkdXBsaWNhdGVkRXZlbnQgPSAkLkV2ZW50KCAnYWNmX2R1cGxpY2F0ZWRfcm93JyApO1xuXHRcdGR1cGxpY2F0ZWRFdmVudC5kZXN0aW5hdGlvbiA9ICRkZXN0O1xuXG5cdFx0JHNvdXJjZS50cmlnZ2VyKCBkdXBsaWNhdGVkRXZlbnQgKTtcblx0fSxcbn0pO1xuIl19
