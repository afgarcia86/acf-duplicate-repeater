!function(l){var a=acf_duplicate_repeater.options,r={_default:function(e,t,a){var n=e.find('[type="'+a+'"]');acf.getField(e),acf.getField(t);t.find('[type="'+a+'"]').each(function(e,t){l(this).val(l(n[e]).val())})},button_group:function(e,t){var a=t.find('[type="radio"]');e.find('[type="radio"]').each(function(e,t){if(l(t).prop("checked"))return l(a[e]).trigger("click"),!1})},checkbox:function(e,t){var a=t.find('[type="checkbox"]');e.find('[type="checkbox"]').each(function(e,t){l(a[e]).prop("checked",l(t).prop("checked"))})},color_picker:function(e,t){var a=acf.getField(e),n=acf.getField(t),i=a.$inputText().val();n.$inputText().iris("option","color",i)},date_picker:function(e,t){r._default(e,t,"text"),r._default(e,t,"hidden")},date_time_picker:function(e,t){r._default(e,t,"text"),r._default(e,t,"hidden")},file:function(e,t){var a=e.find(".acf-file-uploader"),n=t.find(".acf-file-uploader");r._default(e,t,"hidden"),a.hasClass("has-value")&&(n.find("div").first().html(a.find("div").first().html()),t.find(".acf-file-uploader").addClass("has-value"))},flexible_content:function(e,t){var a=acf.getField(e),n=acf.getField(t);a.$layouts().each(function(e,t){var a=l(t);n.add({layout:a.data("layout")}),d(a,n.$layouts().last(),"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field")})},gallery:function(e,t){var a=e.find(".acf-gallery-attachments"),n=t.find(".acf-gallery-attachments"),i=t.find('input[type="hidden"]').attr("name")+"[]";a.children().each(function(e,t){$clone=l(t).clone(),$clone.find('[type="hidden"]').attr("name",i),n.append($clone)})},google_map:function(e,t){var a=acf.getField(e);acf.getField(t).setValue(a.getValue())},group:function(e,t){d(e,t,"> .acf-input > .acf-table > tbody > .acf-row > .acf-field, > .acf-input > .acf-fields > .acf-field")},image:function(e,t){r._default(e,t,"hidden"),t.find("img").attr("src",e.find("img").attr("src")),e.find(".acf-image-uploader").hasClass("has-value")&&t.find(".acf-image-uploader").addClass("has-value")},link:function(e,t){var a=e.find(".link-node"),n=t.find(".link-node");n.html(a.html()),n.attr("href",a.attr("href")),n.attr("target",a.attr("target")),n.trigger("change")},oembed:function(e,t){t.find('[data-name="search-input"]').val(e.find('[type="hidden"]').val()).trigger("blur")},post_object:function(e,t){r.select(e,t)},radio:function(e,t){r.button_group(e,t),r._default(e,t,"text")},range:function(e,t){r._default(e,t,"range"),r._default(e,t,"number")},relationship:function(e,t){var n=t.find(".values > .list"),a=t.find(".acf-relationship").children('input[type="hidden"]'),i=a.attr("name")+"[]";e.find(".values > .list").children().each(function(e,t){var a=l(t).clone();a.find('[type="hidden"]').attr("name",i),n.append(a)}),a.trigger("change")},repeater:function(e,t){var a=acf.getField(e),n=acf.getField(t),i=n.$rows();a.$rows().each(function(e,t){i[e]?$new_row=l(i[e]):$new_row=n.add(),d(l(t),$new_row,"> .acf-field, > .acf-fields > .acf-field")})},select:function(e,t,a){a=a||" > .acf-input > select";var n=e.find(a),i=t.find(a);1*n.data("ui")&&(i.html(""),n.find("option").each(function(e,t){i.append(l(t).clone())})),$destOpts=i.find("option"),n.find("option").each(function(e,t){l($destOpts[e]).prop("selected",l(t).prop("selected"))})},taxonomy:function(e,t){r.radio(e,t),r.checkbox(e,t),r.select(e,t,"> .acf-input > .acf-taxonomy-field > select")},textarea:function(e,t){t.find("textarea").val(e.find("textarea").val())},time_picker:function(e,t){r._default(e,t,"text"),r._default(e,t,"hidden")},true_false:function(e,t){t.find('[type="checkbox"]').prop("checked",e.find('[type="checkbox"]').prop("checked")),t.find('[type="checkbox"]').trigger("change")},user:function(e,t){r.select(e,t)},wysiwyg:function(e,t){var a,n=acf.getField(e),i=acf.getField(t),d=i.$input().attr("id"),c=n.getValue();(a=tinymce.get(d))?(a.setContent(c),t.find("textarea").val(e.find("textarea").val()),a.save()):i.$input().html(c)}};function d(e,t,a){a=a||"> .acf-field, > .acf-fields > .acf-field";var f=e.find(a),o=t.find(a);f.each(function(e,t){return o[e]?l(f[e]).data("type")!==l(o[e]).data("type")?(console.trace("Error: source field type does not match destination field type"),!1):(a=l(f[e]),n=l(o[e]),i=a.attr("data-type"),(d=l.Event("acf_duplicate:"+i)).destination=n,a.trigger(d),void(d.isDefaultPrevented()||(r[i]?r[i](a,n):r._default(a,n,i),(c=l.Event("acf_duplicated:"+i)).destination=n,a.trigger(c)))):(console.trace("Error: source fields do not match destination fields"),!1);var a,n,i,d,c})}var e=function(a,e){var n=l.extend({},a);return l.each(e,function(e,t){if(void 0!==a[e]){if("events"===e)return void(a.events=l.extend(a.events,t));"function"==typeof t&&(n[e]=a[e])}a[e]=t}),a.parent=n,a};e(acf.models.FlexibleContentField.prototype,{events:{'click [data-name="duplicate-layout"]':"_duplicate"},render:function(){var e;return e=this.parent.render.apply(this,arguments),this.$layouts().each(function(e,t){l(this).find('[data-name="duplicate-layout"]').length||l(this).find(".acf-fc-layout-controls").prepend(a.duplicate_flexible_btn)}),e},_duplicate:function(e){var t,a,n;(a=l(e.target).closest(".layout")).closest(".acf-field"),this.add({layout:a.data("layout"),before:a}),(n=a.prev(".layout")).addClass("_duplicated"),d(a,n,"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field"),setTimeout(function(){n.removeClass("_duplicated")},125),(t=l.Event("acf_duplicated_layout")).destination=n,a.trigger(t)}}),e(acf.models.RepeaterField.prototype,{events:{'click a[data-event="duplicate-row"]':"_duplicate"},render:function(){var e;return e=this.parent.render.apply(this,arguments),this.$rows().each(function(e){l(this).find("> td.remove").append(a.duplicate_repeater_btn)}),e},_duplicate:function(e){var t,a,n;l(e.target).hasClass("acf-icon")&&(t=l(e.target).closest(".acf-row"),(a=this.add({before:t})).addClass("_duplicated"),d(t,a),setTimeout(function(){a.removeClass("_duplicated")},125),(n=l.Event("acf_duplicated_row")).destination=a,t.trigger(n))}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcGVhdGVyLWR1cGxpY2F0ZS5qcyJdLCJuYW1lcyI6WyIkIiwib3B0aW9ucyIsImFjZl9kdXBsaWNhdGVfcmVwZWF0ZXIiLCJjb3B5X3ZhbHVlX2NiIiwiX2RlZmF1bHQiLCIkc3JjIiwiJGRlc3QiLCJ0eXBlIiwiJHNyY2VzIiwiZmluZCIsImFjZiIsImdldEZpZWxkIiwiZWFjaCIsImkiLCJlbCIsInRoaXMiLCJ2YWwiLCJidXR0b25fZ3JvdXAiLCIkZGVzdFJhZGlvIiwicHJvcCIsInRyaWdnZXIiLCJjaGVja2JveCIsIiRkZXN0Q0IiLCJjb2xvcl9waWNrZXIiLCJzcmNGaWVsZCIsImRlc3RGaWVsZCIsIiRpbnB1dFRleHQiLCJpcmlzIiwiZGF0ZV9waWNrZXIiLCJkYXRlX3RpbWVfcGlja2VyIiwiZmlsZSIsIiRzcmNVcGwiLCIkZGVzdFVwbCIsImhhc0NsYXNzIiwiZmlyc3QiLCJodG1sIiwiYWRkQ2xhc3MiLCJmbGV4aWJsZV9jb250ZW50IiwiJGxheW91dHMiLCJsYXlvdXQiLCIkbGF5b3V0IiwiYWRkIiwiZGF0YSIsImNvcHlfdmFsdWVzIiwibGFzdCIsImdhbGxlcnkiLCIkc3JjTGlzdCIsIiRkZXN0TGlzdCIsIm5hbWUiLCJhdHRyIiwiY2hpbGRyZW4iLCIkY2xvbmUiLCJjbG9uZSIsImFwcGVuZCIsImdvb2dsZV9tYXAiLCJzZXRWYWx1ZSIsImdldFZhbHVlIiwiZ3JvdXAiLCJpbWFnZSIsImxpbmsiLCIkc3JjTm9kZSIsIiRkZXN0Tm9kZSIsIm9lbWJlZCIsInBvc3Rfb2JqZWN0IiwicmFkaW8iLCJyYW5nZSIsInJlbGF0aW9uc2hpcCIsIiRpbnB1dCIsInJlcGVhdGVyIiwiZGVzdFJvd3MiLCIkcm93cyIsInJvdyIsIiRuZXdfcm93Iiwic2VsZWN0IiwiX3NlbGVjdG9yIiwiJHNyY1NlbGVjdCIsIiRkZXN0U2VsZWN0IiwiJGRlc3RPcHRzIiwidGF4b25vbXkiLCJ0ZXh0YXJlYSIsInRpbWVfcGlja2VyIiwidHJ1ZV9mYWxzZSIsInVzZXIiLCJ3eXNpd3lnIiwiZWRpdG9yIiwiZGVzdF9pZCIsInRpbnltY2UiLCJnZXQiLCJzZXRDb250ZW50Iiwic2F2ZSIsIiRzb3VyY2VzIiwiJGRlc3RzIiwiY29uc29sZSIsInRyYWNlIiwiY29weUV2ZW50IiwiRXZlbnQiLCJkZXN0aW5hdGlvbiIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRvbmVFdmVudCIsIl9leHRlbmQiLCJvYmoiLCJleHRlbmQiLCJwYXJlbnQiLCJrIiwidiIsImV2ZW50cyIsIm1vZGVscyIsIkZsZXhpYmxlQ29udGVudEZpZWxkIiwicHJvdG90eXBlIiwiY2xpY2sgW2RhdGEtbmFtZT1cImR1cGxpY2F0ZS1sYXlvdXRcIl0iLCJyZW5kZXIiLCJyZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInByZXBlbmQiLCJkdXBsaWNhdGVfZmxleGlibGVfYnRuIiwiX2R1cGxpY2F0ZSIsImUiLCJkdXBsaWNhdGVkRXZlbnQiLCIkbmV3X2xheW91dCIsInRhcmdldCIsImNsb3Nlc3QiLCJiZWZvcmUiLCJwcmV2Iiwic2V0VGltZW91dCIsInJlbW92ZUNsYXNzIiwiUmVwZWF0ZXJGaWVsZCIsImNsaWNrIGFbZGF0YS1ldmVudD1cImR1cGxpY2F0ZS1yb3dcIl0iLCJkdXBsaWNhdGVfcmVwZWF0ZXJfYnRuIiwiJHNvdXJjZSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsR0FDVCxJQUFJQyxFQUFVQyx1QkFBdUJELFFBTXBDRSxFQUFnQixDQUNmQyxTQUFVLFNBQVVDLEVBQU1DLEVBQU9DLEdBQ2hDLElBQUlDLEVBQVNILEVBQUtJLEtBQUssVUFBVUYsRUFBSyxNQUMxQkcsSUFBSUMsU0FBU04sR0FDWkssSUFBSUMsU0FBU0wsR0FHMUJBLEVBQU1HLEtBQUssVUFBVUYsRUFBSyxNQUFNSyxLQUFLLFNBQVNDLEVBQUVDLEdBRS9DZCxFQUFFZSxNQUFNQyxJQUFLaEIsRUFBR1EsRUFBT0ssSUFBS0csVUFJOUJDLGFBQWMsU0FBVVosRUFBTUMsR0FDN0IsSUFBSVks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QUFLdUQsUUFBUTFELEtBQUssU0FBU0MsR0FDMUJiLEVBQUVlLE1BQU1OLEtBQUssZUFBZTRDLE9BQVFwRCxFQUFRZ0ksMEJBR3RDbEIsR0FFUk0sV0FBWSxTQUFVQyxHQUVyQixJQUFJWSxFQUFTNUgsRUFBT2lILEVBR2hCdkgsRUFBRXNILEVBQUVHLFFBQVF4RixTQUFTLGNBQ3hCaUcsRUFBVWxJLEVBQUVzSCxFQUFFRyxRQUFRQyxRQUFRLGFBSy9CcEgsRUFBUVMsS0FBSzBCLElBQUssQ0FBRWtGLE9BQVFPLEtBQ3RCOUYsU0FBUyxlQUVmTyxFQUFhdUYsRUFBUzVILEdBRXRCdUgsV0FBVyxXQUNWdkgsRUFBTXdILFlBQVksZ0JBQ2hCLE1BRUhQLEVBQWtCdkgsRUFBRStGLE1BQU8sdUJBQ1hDLFlBQWMxRixFQUU5QjRILEVBQVE5RyxRQUFTbUcsT0FqYXBCLENBc2FHWSIsImZpbGUiOiJyZXBlYXRlci1kdXBsaWNhdGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCQpe1xuXHR2YXIgb3B0aW9ucyA9IGFjZl9kdXBsaWNhdGVfcmVwZWF0ZXIub3B0aW9ucyxcblxuXG5cdFx0LyoqXG5cdFx0ICpcdHZhbHVlIGNvcHkgY2FsbGJhY2tzXG5cdFx0ICovXG5cdFx0Y29weV92YWx1ZV9jYiA9IHtcblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggJHNyYywgJGRlc3QsIHR5cGUgKSB7IC8vIE9LQVlcblx0XHRcdFx0dmFyICRzcmNlcyA9ICRzcmMuZmluZCgnW3R5cGU9XCInK3R5cGUrJ1wiXScpLFxuXHRcdFx0XHRcdHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCk7XG5cdFx0XHRcdC8vZGVzdEZpZWxkLnZhbCggc3JjRmllbGQudmFsICk7XG5cblx0XHRcdFx0JGRlc3QuZmluZCgnW3R5cGU9XCInK3R5cGUrJ1wiXScpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyh0eXBlLHRoaXMsJHNyY2VzW2ldLCQoICRzcmNlc1tpXSApLnZhbCgpKVxuXHRcdFx0XHRcdCQodGhpcykudmFsKCAkKCAkc3JjZXNbaV0gKS52YWwoKSApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSxcblx0XHRcdGJ1dHRvbl9ncm91cDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkZGVzdFJhZGlvID0gJGRlc3QuZmluZCgnW3R5cGU9XCJyYWRpb1wiXScpO1xuXHRcdFx0XHQkc3JjLmZpbmQoJ1t0eXBlPVwicmFkaW9cIl0nKS5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRcdFx0aWYgKCAkKGVsKS5wcm9wKCdjaGVja2VkJykgKSB7XG5cdFx0XHRcdFx0XHQkKCAkZGVzdFJhZGlvW2ldICkudHJpZ2dlcignY2xpY2snICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRjaGVja2JveDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkZGVzdENCID0gJGRlc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpO1xuXHRcdFx0XHQkc3JjLmZpbmQoJ1t0eXBlPVwiY2hlY2tib3hcIl0nKS5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRcdFx0JCggJGRlc3RDQltpXSApLnByb3AoJ2NoZWNrZWQnLCAkKGVsKS5wcm9wKCdjaGVja2VkJykgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Y29sb3JfcGlja2VyOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0dmFyIHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCksXG5cdFx0XHRcdFx0dmFsID0gc3JjRmllbGQuJGlucHV0VGV4dCgpLnZhbCgpO1xuXG5cdFx0XHRcdGRlc3RGaWVsZC4kaW5wdXRUZXh0KCkuaXJpcyggJ29wdGlvbicsICdjb2xvcicsIHZhbCApO1xuXHRcdFx0fSxcblx0XHRcdGRhdGVfcGlja2VyOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ3RleHQnICk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHR9LFxuXHRcdFx0ZGF0ZV90aW1lX3BpY2tlcjogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICd0ZXh0JyApO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdFx0fSxcblx0XHRcdGZpbGU6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgJHNyY1VwbCA9ICRzcmMuZmluZCgnLmFjZi1maWxlLXVwbG9hZGVyJyksXG5cdFx0XHRcdFx0JGRlc3RVcGwgPSAkZGVzdC5maW5kKCcuYWNmLWZpbGUtdXBsb2FkZXInKTtcblxuXHRcdFx0XHQvLyBzZXQgaGlkZGVuXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oICRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXG5cdFx0XHRcdGlmICggJHNyY1VwbC5oYXNDbGFzcygnaGFzLXZhbHVlJykgKSB7XG5cdFx0XHRcdFx0JGRlc3RVcGwuZmluZCgnZGl2JykuZmlyc3QoKS5odG1sKCAkc3JjVXBsLmZpbmQoJ2RpdicpLmZpcnN0KCkuaHRtbCgpICk7XG5cdFx0XHRcdFx0JGRlc3QuZmluZCgnLmFjZi1maWxlLXVwbG9hZGVyJykuYWRkQ2xhc3MoJ2hhcy12YWx1ZScpXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRmbGV4aWJsZV9jb250ZW50OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7XG5cdFx0XHRcdHZhciBzZWxlY3RvciA9ICc+IC5hY2YtaW5wdXQgPiAuYWNmLWZsZXhpYmxlLWNvbnRlbnQgPiAudmFsdWVzID4gLmxheW91dCcsXG5cdFx0XHRcdFx0c3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KTtcblx0XHRcdFx0Ly9hY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQuc2V0KCAnJGZpZWxkJywgJGRlc3QgKTtcblxuXHRcdFx0XHRzcmNGaWVsZC4kbGF5b3V0cygpLmVhY2goZnVuY3Rpb24oaSxsYXlvdXQpe1xuXHRcdFx0XHRcdC8vIGVhY2ggcmVwZWF0ZXIgZW50cnkuLi4gZmluZCBmaWVsZHMgaW4gcmVwZWF0ZXIgZW50cnlcblx0XHRcdFx0XHR2YXIgJGxheW91dCA9ICQobGF5b3V0KSxcblx0XHRcdFx0XHRcdCRuZXdfbGF5b3V0O1xuXG5cdFx0XHRcdFx0ZGVzdEZpZWxkLmFkZCggeyBsYXlvdXQ6ICRsYXlvdXQuZGF0YSgnbGF5b3V0JykgfSApO1xuXG5cdFx0XHRcdFx0JG5ld19sYXlvdXQgPSBkZXN0RmllbGQuJGxheW91dHMoKS5sYXN0KCk7XG5cblx0XHRcdFx0XHQvLyB0YmwgKyBibG9jayArIHJvd1xuXHRcdFx0XHRcdGNvcHlfdmFsdWVzKCAkbGF5b3V0LCAkbmV3X2xheW91dCwgJz4gLmFjZi10YWJsZSA+IHRib2R5ID4gLmFjZi1yb3cgPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTsgLy8gZXhjbHVkZSBjbG9uZXMhXG5cblx0XHRcdFx0fSk7IC8vIHRhYmxlXG5cdFx0XHR9LFxuXHRcdFx0Z2FsbGVyeTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdC8vIGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHRcdHZhciAkc3JjTGlzdCA9ICRzcmMuZmluZCgnLmFjZi1nYWxsZXJ5LWF0dGFjaG1lbnRzJyksXG5cdFx0XHRcdFx0JGRlc3RMaXN0ID0gJGRlc3QuZmluZCgnLmFjZi1nYWxsZXJ5LWF0dGFjaG1lbnRzJyksXG5cdFx0XHRcdFx0JGlucHV0ID0gJGRlc3QuZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLFxuXHRcdFx0XHRcdG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpICsgJ1tdJztcblxuXHRcdFx0XHQkc3JjTGlzdC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdFx0JGNsb25lID0gJChlbCkuY2xvbmUoKTtcblx0XHRcdFx0XHQkY2xvbmUuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKS5hdHRyKCAnbmFtZScsIG5hbWUgKTtcblx0XHRcdFx0XHQkZGVzdExpc3QuYXBwZW5kKCRjbG9uZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdvb2dsZV9tYXA6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KTtcblx0XHRcdFx0ZGVzdEZpZWxkLnNldFZhbHVlKCBzcmNGaWVsZC5nZXRWYWx1ZSgpICk7XG4vL1x0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ2hpZGRlbicgKTtcblx0XHRcdH0sXG5cdFx0XHRncm91cDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkge1xuXHRcdFx0XHRjb3B5X3ZhbHVlcyggJHNyYywgJGRlc3QsICc+IC5hY2YtaW5wdXQgPiAuYWNmLXRhYmxlID4gdGJvZHkgPiAuYWNmLXJvdyA+IC5hY2YtZmllbGQsID4gLmFjZi1pbnB1dCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTsgLy8gZXhjbHVkZSBjbG9uZXMhXG5cdFx0XHR9LFxuXHRcdFx0aW1hZ2U6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHQvLyBzZXQgaGlkZGVuXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oICRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdFx0XHQkZGVzdC5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLCAkc3JjLmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycpIClcblx0XHRcdFx0aWYgKCAkc3JjLmZpbmQoJy5hY2YtaW1hZ2UtdXBsb2FkZXInKS5oYXNDbGFzcygnaGFzLXZhbHVlJykgKSB7XG5cdFx0XHRcdFx0JGRlc3QuZmluZCgnLmFjZi1pbWFnZS11cGxvYWRlcicpLmFkZENsYXNzKCdoYXMtdmFsdWUnKVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bGluazogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkc3JjTm9kZSA9ICRzcmMuZmluZCgnLmxpbmstbm9kZScpLFxuXHRcdFx0XHRcdCRkZXN0Tm9kZSA9ICRkZXN0LmZpbmQoJy5saW5rLW5vZGUnKTtcblxuXHRcdFx0XHQkZGVzdE5vZGUuaHRtbCggJHNyY05vZGUuaHRtbCgpICk7XG5cdFx0XHRcdCRkZXN0Tm9kZS5hdHRyKCAnaHJlZicsICRzcmNOb2RlLmF0dHIoICdocmVmJyApICk7XG5cdFx0XHRcdCRkZXN0Tm9kZS5hdHRyKCAndGFyZ2V0JywgJHNyY05vZGUuYXR0ciggJ3RhcmdldCcgKSApO1xuXG5cdFx0XHRcdCRkZXN0Tm9kZS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdH0sXG5cdFx0XHRvZW1iZWQ6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHQkZGVzdC5maW5kKCdbZGF0YS1uYW1lPVwic2VhcmNoLWlucHV0XCJdJylcblx0XHRcdFx0XHQudmFsKCAkc3JjLmZpbmQoJ1t0eXBlPVwiaGlkZGVuXCJdJykudmFsKCkgKVxuXHRcdFx0XHRcdC50cmlnZ2VyKCdibHVyJyk7XG5cdFx0XHR9LFxuXHRcdFx0cG9zdF9vYmplY3Q6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydzZWxlY3QnXSgkc3JjLCAkZGVzdCApO1xuXHRcdFx0fSxcblx0XHRcdHJhZGlvOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnYnV0dG9uX2dyb3VwJ10oJHNyYywgJGRlc3QpO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCd0ZXh0Jyk7XG5cdFx0XHR9LFxuXHRcdFx0cmFuZ2U6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCdyYW5nZScpO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCdudW1iZXInKTtcblx0XHRcdH0sXG5cdFx0XHRyZWxhdGlvbnNoaXA6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgJGRlc3RMaXN0ID0gJGRlc3QuZmluZCgnLnZhbHVlcyA+IC5saXN0JyksXG5cdFx0XHRcdFx0JGlucHV0ID0gJGRlc3QuZmluZCgnLmFjZi1yZWxhdGlvbnNoaXAnKS5jaGlsZHJlbignaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLFxuXHRcdFx0XHRcdG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpICsgJ1tdJztcblxuXHRcdFx0XHQkc3JjLmZpbmQoJy52YWx1ZXMgPiAubGlzdCcpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0XHR2YXIgJGNsb25lID0gJChlbCkuY2xvbmUoKTtcblx0XHRcdFx0XHQkY2xvbmUuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKS5hdHRyKCAnbmFtZScsIG5hbWUgKTtcblx0XHRcdFx0XHQkZGVzdExpc3QuYXBwZW5kKCRjbG9uZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkaW5wdXQudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0XHR9LFxuXHRcdFx0cmVwZWF0ZXI6ZnVuY3Rpb24oICRzcmMsICRkZXN0ICkge1xuXHRcdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KSxcblx0XHRcdFx0XHRkZXN0Um93cyA9IGRlc3RGaWVsZC4kcm93cygpO1xuXG5cdFx0XHRcdHNyY0ZpZWxkLiRyb3dzKCkuZWFjaChmdW5jdGlvbihpLHJvdykge1xuXHRcdFx0XHRcdGlmICggISBkZXN0Um93c1tpXSApIHtcblx0XHRcdFx0XHRcdCRuZXdfcm93ID0gZGVzdEZpZWxkLmFkZCgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkbmV3X3JvdyA9ICQoZGVzdFJvd3NbaV0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvcHlfdmFsdWVzKCAkKHJvdyksICRuZXdfcm93LCAnPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gJHNyYy5maW5kKCc+IC5hY2YtaW5wdXQgPiAuYWNmLXJlcGVhdGVyID4gLmFjZi10YWJsZSA+IHRib2R5ID4gLmFjZi1yb3c6bm90KC5hY2YtY2xvbmUpJykuZWFjaChmdW5jdGlvbihpLHJvdyl7XG5cdFx0XHRcdC8vIFx0Ly8gZWFjaCByZXBlYXRlciBlbnRyeS4uLiBmaW5kIGZpZWxkcyBpbiByZXBlYXRlciBlbnRyeVxuXHRcdFx0XHQvLyBcdHZhciAkbmV3X3JvdyA9IGFjZi5maWVsZHMucmVwZWF0ZXIuYWRkKCk7XG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIFx0Y29weV92YWx1ZXMoICQocm93KSwgJG5ld19yb3csICc+IC5hY2YtZmllbGQsID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApOyAvLyBleGNsdWRlIGNsb25lcyFcblx0XHRcdFx0Ly8gfSk7IC8vIHRhYmxlXG5cdFx0XHR9LFxuXHRcdFx0c2VsZWN0OiBmdW5jdGlvbiggJHNyYywgJGRlc3QsIF9zZWxlY3RvciApIHsgLy8gT0tBWVxuXHRcdFx0XHRfc2VsZWN0b3IgPSBfc2VsZWN0b3IgfHwgJyA+IC5hY2YtaW5wdXQgPiBzZWxlY3QnO1xuXHRcdFx0XHR2YXIgJHNyY1NlbGVjdCA9ICRzcmMuZmluZCggX3NlbGVjdG9yICksXG5cdFx0XHRcdFx0JGRlc3RTZWxlY3QgPSAkZGVzdC5maW5kKCBfc2VsZWN0b3IgKTtcblxuXHRcdFx0XHRpZiAoICRzcmNTZWxlY3QuZGF0YSgndWknKSAqIDEgKSB7XG5cdFx0XHRcdFx0Ly8gc29ydCAkZGVzdCBsaWtlICRzcmNcblx0XHRcdFx0XHQkZGVzdFNlbGVjdC5odG1sKCcnKTtcblx0XHRcdFx0XHQkc3JjU2VsZWN0LmZpbmQoJ29wdGlvbicpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdFx0XHQkZGVzdFNlbGVjdC5hcHBlbmQoJChlbCkuY2xvbmUoKSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JGRlc3RPcHRzID0gJGRlc3RTZWxlY3QuZmluZCgnb3B0aW9uJyk7XG5cdFx0XHRcdCRzcmNTZWxlY3QuZmluZCgnb3B0aW9uJykuZWFjaChmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRcdFx0JCggJGRlc3RPcHRzW2ldICkucHJvcCgnc2VsZWN0ZWQnLCAkKGVsKS5wcm9wKCdzZWxlY3RlZCcpICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHRheG9ub215OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsncmFkaW8nXSgkc3JjLCAkZGVzdCk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ2NoZWNrYm94J10oJHNyYywgJGRlc3QpO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydzZWxlY3QnXSgkc3JjLCAkZGVzdCwgJz4gLmFjZi1pbnB1dCA+IC5hY2YtdGF4b25vbXktZmllbGQgPiBzZWxlY3QnICk7XG5cdFx0XHR9LFxuXHRcdFx0dGV4dGFyZWE6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHQkZGVzdC5maW5kKCd0ZXh0YXJlYScpLnZhbCggJHNyYy5maW5kKCd0ZXh0YXJlYScpLnZhbCgpICk7XG5cdFx0XHR9LFxuXHRcdFx0dGltZV9waWNrZXI6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAndGV4dCcgKTtcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ2hpZGRlbicgKTtcblx0XHRcdH0sXG5cdFx0XHR0cnVlX2ZhbHNlOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0JGRlc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnLCAkc3JjLmZpbmQoJ1t0eXBlPVwiY2hlY2tib3hcIl0nKS5wcm9wKCdjaGVja2VkJykgKTtcblx0XHRcdFx0JGRlc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0fSxcblx0XHRcdHVzZXI6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydzZWxlY3QnXSggJHNyYywgJGRlc3QgKTtcblx0XHRcdH0sXG5cdFx0XHR3eXNpd3lnOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIC4uLlxuXHRcdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KSxcblx0XHRcdFx0XHRkZXN0X2lkID0gZGVzdEZpZWxkLiRpbnB1dCgpLmF0dHIoJ2lkJyksXG5cdFx0XHRcdFx0dmFsID0gc3JjRmllbGQuZ2V0VmFsdWUoKSwgZWRpdG9yO1xuXG5cdFx0XHRcdGVkaXRvciA9IHRpbnltY2UuZ2V0KCBkZXN0X2lkICk7XG5cblx0XHRcdFx0aWYgKCAhISBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0Ly8gZWRpdG9yIGFscmVhZHkgaW5pdGVkXG5cdFx0XHRcdFx0ZWRpdG9yLnNldENvbnRlbnQoIHZhbCApO1xuXHRcdFx0XHRcdCRkZXN0LmZpbmQoJ3RleHRhcmVhJykudmFsKCAkc3JjLmZpbmQoJ3RleHRhcmVhJykudmFsKCkgKVxuXHRcdFx0XHRcdGVkaXRvci5zYXZlKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gZGVsYXllZCBpbml0XG5cdFx0XHRcdFx0ZGVzdEZpZWxkLiRpbnB1dCgpLmh0bWwoIHZhbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH07XG5cblx0LyoqXG5cdCAqXHRDb3B5IHZhbHVlcyBmcm9tIG9uZSBhY2YtZmllbGQgdG8gYW5vdGhlclxuXHQgKlxuXHQgKlx0QHBhcmFtICRzcmMgalF1ZXJ5IG9iamVjdCBob2xkaW5nIHRoZSAuYWNmLWZpZWxkIG9iamVjdCB0byBjb3B5IGZyb21cblx0ICpcdEBwYXJhbSAkZGVzdCBqUXVlcnkgb2JqZWN0IGhvbGRpbmcgdGhlIC5hY2YtZmllbGQgb2JqZWN0IHRvIGNvcHkgdG9cblx0ICovXG5cdGZ1bmN0aW9uIGNvcHlfdmFsdWUoICRzcmMsICRkZXN0ICkge1xuXHRcdHZhciB0eXBlLFxuXHRcdFx0Y29weUV2ZW50LFxuXHRcdFx0ZG9uZUV2ZW50O1xuXG5cdFx0dHlwZSA9ICRzcmMuYXR0cignZGF0YS10eXBlJyk7XG5cblx0XHRjb3B5RXZlbnQgPSAkLkV2ZW50KCAnYWNmX2R1cGxpY2F0ZTonICsgdHlwZSApO1xuXHRcdGNvcHlFdmVudC5kZXN0aW5hdGlvbiA9ICRkZXN0O1xuXG5cdFx0JHNyYy50cmlnZ2VyKCBjb3B5RXZlbnQgKTtcblxuXHRcdC8vIGFsbG93IGNhbmNlbGluZ1xuXHRcdGlmICggY29weUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggISBjb3B5X3ZhbHVlX2NiWyB0eXBlIF0gKSB7XG5cdFx0XHQvLyBEZWZhbHQgYmVoYXZpb3VyIGZvciB0ZXh0LCByYW5nZSwgdXJsLCBudW1iZXIsXG5cdFx0XHRjb3B5X3ZhbHVlX2NiLl9kZWZhdWx0KCAkc3JjLCAkZGVzdCwgdHlwZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb3B5X3ZhbHVlX2NiW3R5cGVdKCAkc3JjLCAkZGVzdCApO1xuXHRcdH1cblxuXHRcdGRvbmVFdmVudCA9ICQuRXZlbnQoICdhY2ZfZHVwbGljYXRlZDonICsgdHlwZSApO1xuXHRcdGRvbmVFdmVudC5kZXN0aW5hdGlvbiA9ICRkZXN0O1xuXG5cdFx0JHNyYy50cmlnZ2VyKCBkb25lRXZlbnQgKTtcblx0fVxuXG5cdC8qKlxuXHQgKlx0Q29weSB2YWx1ZXMgZnJvbSBvbmUgc2V0IG9mIGFjZi1maWVsZHMgdG8gYW5vdGhlci5cblx0ICpcdEl0IGlzIGFzc3VtZWQgdGhhdCBib3RoICRzcmMgYW5kICRkZXN0IGhhdmUgaWRlbnRpY2FsIGZpZWxkc1xuXHQgKlxuXHQgKlx0QHBhcmFtICRzcmMgalF1ZXJ5IG9iamVjdCBjb250YWluaW5nIHRoZSAuYWNmLWZpZWxkIG9iamVjdHMgdG8gY29weSBmcm9tXG5cdCAqXHRAcGFyYW0gJGRlc3QgalF1ZXJ5IG9iamVjdCBjb250YWluaW5nIHRoZSAuYWNmLWZpZWxkIG9iamVjdCB0byBjb3B5IHRvXG5cdCAqXHRAcGFyYW0gX3NlbGVjdG9yIGNzcyBzZWxlY3RvciB0byBzZWxlY3QgLmFjZi1maWVsZHMgaW4gYm90aCAkc3JjIGFuZCAkZGVzdFxuXHQgKi9cblx0ZnVuY3Rpb24gY29weV92YWx1ZXMoICRzcmMsICRkZXN0LCBfc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGZpZWxkX21hcFx0PSB7fSxcblx0XHRcdF9zZWxlY3RvciA9IF9zZWxlY3RvciB8fCAnPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcsXG5cdFx0XHQkc291cmNlc1x0PSAkc3JjLmZpbmQoIF9zZWxlY3RvciApLFxuXHRcdFx0JGRlc3RzXHRcdD0gJGRlc3QuZmluZCggX3NlbGVjdG9yICk7XG5cblx0XHQkc291cmNlcy5lYWNoKCBmdW5jdGlvbiggaSwgZWwgKXtcblx0XHRcdGlmICggISAkZGVzdHNbaV0gKSB7XG5cdFx0XHRcdGNvbnNvbGUudHJhY2UoJ0Vycm9yOiBzb3VyY2UgZmllbGRzIGRvIG5vdCBtYXRjaCBkZXN0aW5hdGlvbiBmaWVsZHMnKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAkKCAkc291cmNlc1tpXSApLmRhdGEoJ3R5cGUnKSAhPT0gJCgkZGVzdHNbaV0pLmRhdGEoJ3R5cGUnKSApIHtcblx0XHRcdFx0Y29uc29sZS50cmFjZSgnRXJyb3I6IHNvdXJjZSBmaWVsZCB0eXBlIGRvZXMgbm90IG1hdGNoIGRlc3RpbmF0aW9uIGZpZWxkIHR5cGUnKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0Y29weV92YWx1ZSggJCggJHNvdXJjZXNbaV0gKSwgJCgkZGVzdHNbaV0pICk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICpcdEV4dGVuZCBhY2YgZmxleGlibGUgY29udGVudCBmaWVsZFxuXHQgKi9cblxuXHR2YXIgX2V4dGVuZCA9IGZ1bmN0aW9uKG9iaixleHRlbmQpIHtcblx0XHR2YXIgcGFyZW50ID0gJC5leHRlbmQoe30sb2JqKTtcblx0XHQkLmVhY2goZXh0ZW5kLGZ1bmN0aW9uKGssdikge1xuXHRcdFx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG9ialtrXSApIHtcblx0XHRcdFx0aWYgKCAnZXZlbnRzJyA9PT0gayApIHtcblx0XHRcdFx0XHRvYmouZXZlbnRzID0gJC5leHRlbmQoIG9iai5ldmVudHMsIHYgKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSBpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB2ICkge1xuXHRcdFx0XHRcdHBhcmVudFtrXSA9IG9ialtrXTsgLy9cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b2JqW2tdID0gdjtcblx0XHR9KTtcblx0XHRvYmoucGFyZW50ID0gcGFyZW50O1xuXHRcdHJldHVybiBvYmo7XG5cdH1cblxuXHRfZXh0ZW5kKCBhY2YubW9kZWxzLkZsZXhpYmxlQ29udGVudEZpZWxkLnByb3RvdHlwZSwge1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIFtkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdJzogJ19kdXBsaWNhdGUnXG5cdFx0fSxcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgcmV0O1xuXG5cdFx0XHRyZXQgPSB0aGlzLnBhcmVudC5yZW5kZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyBhZGQgZHVwbGljYXRlIGJ0blxuXHRcdFx0dGhpcy4kbGF5b3V0cygpLmVhY2goZnVuY3Rpb24oIGksIGVsICl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLmZpbmQoJ1tkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdJykubGVuZ3RoICkge1xuXHRcdFx0XHRcdCQodGhpcykuZmluZCgnLmFjZi1mYy1sYXlvdXQtY29udHJvbHMnKS5wcmVwZW5kKCBvcHRpb25zLmR1cGxpY2F0ZV9mbGV4aWJsZV9idG4gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XHRfZHVwbGljYXRlOiBmdW5jdGlvbiggZSApIHtcblx0XHRcdHZhciBsYXlvdXQsXG5cdFx0XHRcdGR1cGxpY2F0ZWRFdmVudCxcblx0XHRcdFx0JGZpZWxkLFxuXHRcdFx0XHQkbGF5b3V0LCAgLy8gb3JpZ2luYWwgZmllbGRcblx0XHRcdFx0JG5ld19sYXlvdXQ7IC8vIGNsb25lZCBmaWVsZFxuXG5cdFx0XHQvLyBnZXQgbGF5b3V0IHdyYXBwZXJcblx0XHRcdCRsYXlvdXQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubGF5b3V0Jyk7XG5cblx0XHRcdC8vIGdldCBmbGV4aWJsZV9jb250ZW50IGZpZWxkXG5cdFx0XHQkZmllbGQgPSAkbGF5b3V0LmNsb3Nlc3QoJy5hY2YtZmllbGQnKTtcblxuXHRcdFx0Ly8gYWNmIHNldCBmaWVsZCBjb250ZW54dFxuXHRcdFx0Ly9hY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQuc2V0KCAnJGZpZWxkJywgJGZpZWxkICk7XG5cblx0XHRcdC8vIGFjZiBhZGQgdGFyZ2V0IGxheW91dCBiZWZvcmUgc291cmNlIGxheW91dFxuXHRcdFx0dGhpcy5hZGQoIHtcblx0XHRcdFx0bGF5b3V0OiAkbGF5b3V0LmRhdGEoJ2xheW91dCcpLFxuXHRcdFx0XHRiZWZvcmU6ICRsYXlvdXQsXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBhZGRlZCBsYXlvdXRcblx0XHRcdCRuZXdfbGF5b3V0ID0gJGxheW91dC5wcmV2KCAnLmxheW91dCcgKTtcblx0XHRcdCRuZXdfbGF5b3V0LmFkZENsYXNzKCdfZHVwbGljYXRlZCcpO1xuXG5cdFx0XHQvLyBjb3B5IHZhbHVlcyBmcm9tIHNvdXJjZSBsYXlvdXQgdG8gZGVzdGluYXRpb25cblx0XHRcdGNvcHlfdmFsdWVzKCAkbGF5b3V0LCAkbmV3X2xheW91dCwgJz4gLmFjZi10YWJsZSA+IHRib2R5ID4gLmFjZi1yb3cgPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTsgLy8gZXhjbHVkZSBjbG9uZXMhXG4vL1x0XHRcdCRuZXdfbGF5b3V0LnJlbW92ZUNsYXNzKCdfZHVwbGljYXRlZCcpO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHQkbmV3X2xheW91dC5yZW1vdmVDbGFzcygnX2R1cGxpY2F0ZWQnKTtcblx0XHRcdH0sIDEyNSApO1xuXG5cdFx0XHRkdXBsaWNhdGVkRXZlbnQgPSAkLkV2ZW50KCAnYWNmX2R1cGxpY2F0ZWRfbGF5b3V0JyApO1xuXHRcdFx0ZHVwbGljYXRlZEV2ZW50LmRlc3RpbmF0aW9uID0gJG5ld19sYXlvdXQ7XG5cblx0XHRcdCRsYXlvdXQudHJpZ2dlciggZHVwbGljYXRlZEV2ZW50ICk7XG5cblx0XHR9XG5cdH0pO1xuXG5cdC8vYWNmLmZpZWxkcy5mbGV4aWJsZV9jb250ZW50ID0gYWNmLmZpZWxkcy5mbGV4aWJsZV9jb250ZW50LmV4dGVuZCgpO1xuXG5cdC8qKlxuXHQgKlx0RXh0ZW5kIGFjZiBmbGV4aWJsZSBjb250ZW50IGZpZWxkXG5cdCAqL1xuXHQgX2V4dGVuZCggYWNmLm1vZGVscy5SZXBlYXRlckZpZWxkLnByb3RvdHlwZSwge1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIGFbZGF0YS1ldmVudD1cImR1cGxpY2F0ZS1yb3dcIl0nOiAnX2R1cGxpY2F0ZSdcblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciByZXQ7XG5cblx0XHRcdHJldCA9IHRoaXMucGFyZW50LnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGFkZCBkdXBsaWNhdGUgYnRuXG5cdFx0XHR0aGlzLiRyb3dzKCkuZWFjaChmdW5jdGlvbihpKXtcblx0XHRcdFx0JCh0aGlzKS5maW5kKCc+IHRkLnJlbW92ZScpLmFwcGVuZCggb3B0aW9ucy5kdXBsaWNhdGVfcmVwZWF0ZXJfYnRuICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcdF9kdXBsaWNhdGU6IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHR2YXIgJHNvdXJjZSwgJGRlc3QsIGR1cGxpY2F0ZWRFdmVudDtcblxuXHRcdFx0Ly8gZ2V0IHNvdXJjZSByb3dcblx0XHRcdGlmKCAkKGUudGFyZ2V0KS5oYXNDbGFzcygnYWNmLWljb24nKSApIHtcblx0XHRcdFx0JHNvdXJjZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5hY2Ytcm93Jyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBhZGQgZGVzdGluYXRpb24gcm93XG5cdFx0XHQkZGVzdCA9IHRoaXMuYWRkKCB7IGJlZm9yZTogJHNvdXJjZSB9ICk7IC8vIGFkZCBiZWZvcmUgc291cmNlIVxuXHRcdFx0JGRlc3QuYWRkQ2xhc3MoJ19kdXBsaWNhdGVkJyk7XG5cdFx0XHQvLyBjb3B5IHZhbHVlcyBmcm9tIHNvdXJjZSByb3cgdG8gZGVzdGluYXRpb25cblx0XHRcdGNvcHlfdmFsdWVzKCAkc291cmNlLCAkZGVzdCApO1xuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCRkZXN0LnJlbW92ZUNsYXNzKCdfZHVwbGljYXRlZCcpO1xuXHRcdFx0fSwgMTI1ICk7XG5cblx0XHRcdGR1cGxpY2F0ZWRFdmVudCA9ICQuRXZlbnQoICdhY2ZfZHVwbGljYXRlZF9yb3cnICk7XG5cdFx0XHRkdXBsaWNhdGVkRXZlbnQuZGVzdGluYXRpb24gPSAkZGVzdDtcblxuXHRcdFx0JHNvdXJjZS50cmlnZ2VyKCBkdXBsaWNhdGVkRXZlbnQgKTtcblx0XHR9LFxuXHR9KTtcblxuXG59KShqUXVlcnkpO1xuIl19
