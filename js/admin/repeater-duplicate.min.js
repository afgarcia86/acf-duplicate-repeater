!function(o){var a=acf_duplicate_repeater.options,r={_default:function(e,t,a){var n=e.find('[type="'+a+'"]');acf.getField(e),acf.getField(t);t.find('[type="'+a+'"]').each(function(e,t){o(this).val(o(n[e]).val())})},button_group:function(e,t){var a=t.find('[type="radio"]');e.find('[type="radio"]').each(function(e,t){if(o(t).prop("checked"))return o(a[e]).trigger("click"),!1})},checkbox:function(e,t){var a=t.find('[type="checkbox"]');e.find('[type="checkbox"]').each(function(e,t){o(a[e]).prop("checked",o(t).prop("checked"))})},color_picker:function(e,t){var a=acf.getField(e),n=acf.getField(t),i=a.$inputText().val();n.$inputText().iris("option","color",i)},date_picker:function(e,t){r._default(e,t,"text"),r._default(e,t,"hidden")},date_time_picker:function(e,t){r._default(e,t,"text"),r._default(e,t,"hidden")},file:function(e,t){var a=e.find(".acf-file-uploader"),n=t.find(".acf-file-uploader");r._default(e,t,"hidden"),a.hasClass("has-value")&&(n.find("div").first().html(a.find("div").first().html()),t.find(".acf-file-uploader").addClass("has-value"))},flexible_content:function(e,t){var a=acf.getField(e),n=acf.getField(t);a.$layouts().each(function(e,t){var a=o(t);n.add({layout:a.data("layout")}),i(a,n.$layouts().last(),"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field")})},gallery:function(e,t){var a=e.find(".acf-gallery-attachments"),n=t.find(".acf-gallery-attachments"),i=t.find('input[type="hidden"]').attr("name")+"[]";a.children().each(function(e,t){$clone=o(t).clone(),$clone.find('[type="hidden"]').attr("name",i),n.append($clone)})},google_map:function(e,t){var a=acf.getField(e);acf.getField(t).setValue(a.getValue())},group:function(e,t){i(e,t,"> .acf-input > .acf-table > tbody > .acf-row > .acf-field, > .acf-input > .acf-fields > .acf-field")},image:function(e,t){r._default(e,t,"hidden"),t.find("img").attr("src",e.find("img").attr("src")),e.find(".acf-image-uploader").hasClass("has-value")&&t.find(".acf-image-uploader").addClass("has-value")},link:function(e,t){var a=e.find(".link-node"),n=t.find(".link-node");n.html(a.html()),n.attr("href",a.attr("href")),n.attr("target",a.attr("target")),n.trigger("change")},oembed:function(e,t){t.find('[data-name="search-input"]').val(e.find('[type="hidden"]').val()).trigger("blur")},post_object:function(e,t){r.select(e,t)},radio:function(e,t){r.button_group(e,t),r._default(e,t,"text")},range:function(e,t){r._default(e,t,"range"),r._default(e,t,"number")},relationship:function(e,t){var n=t.find(".values > .list"),a=t.find(".acf-relationship").children('input[type="hidden"]'),i=a.attr("name")+"[]";e.find(".values > .list").children().each(function(e,t){var a=o(t).clone();a.find('[type="hidden"]').attr("name",i),n.append(a)}),a.trigger("change")},repeater:function(e,t){var a=acf.getField(e),n=acf.getField(t);a.$rows().each(function(e,t){$new_row=n.add(),i(o(t),$new_row,"> .acf-field, > .acf-fields > .acf-field")})},select:function(e,t,a){a=a||" > .acf-input > select";var n=e.find(a),i=t.find(a);1*n.data("ui")&&(i.html(""),n.find("option").each(function(e,t){i.append(o(t).clone())})),$destOpts=i.find("option"),n.find("option").each(function(e,t){o($destOpts[e]).prop("selected",o(t).prop("selected"))})},taxonomy:function(e,t){r.radio(e,t),r.checkbox(e,t),r.select(e,t,"> .acf-input > .acf-taxonomy-field > select")},textarea:function(e,t){t.find("textarea").val(e.find("textarea").val())},time_picker:function(e,t){r._default(e,t,"text"),r._default(e,t,"hidden")},true_false:function(e,t){t.find('[type="checkbox"]').prop("checked",e.find('[type="checkbox"]').prop("checked")),t.find('[type="checkbox"]').trigger("change")},user:function(e,t){r.select(e,t)},wysiwyg:function(e,t){var a,n=acf.getField(e),i=acf.getField(t),d=i.$input().attr("id"),c=n.getValue();(a=tinymce.get(d))?(a.setContent(c),t.find("textarea").val(e.find("textarea").val()),a.save()):i.$input().html(c)}};function i(e,t,a){a=a||"> .acf-field, > .acf-fields > .acf-field";var f=e.find(a),l=t.find(a);f.each(function(e,t){return l[e]?o(f[e]).data("type")!==o(l[e]).data("type")?(console.trace("Error: source field type does not match destination field type"),!1):(a=o(f[e]),n=o(l[e]),i=a.attr("data-type"),(d=o.Event("acf_duplicate:"+i)).destination=n,a.trigger(d),void(d.isDefaultPrevented()||(r[i]?r[i](a,n):r._default(a,n,i),(c=o.Event("acf_duplicated:"+i)).destination=n,a.trigger(c)))):(console.trace("Error: source fields do not match destination fields"),!1);var a,n,i,d,c})}var e=function(a,e){var n=o.extend({},a);return o.each(e,function(e,t){if(void 0!==a[e]){if("events"===e)return void(a.events=o.extend(a.events,t));"function"==typeof t&&(n[e]=a[e])}a[e]=t}),a.parent=n,a};e(acf.models.FlexibleContentField.prototype,{events:{'click [data-name="duplicate-layout"]':"_duplicate"},render:function(){var e;return e=this.parent.render.apply(this,arguments),this.$layouts().each(function(e,t){o(this).find('[data-name="duplicate-layout"]').length||o(this).find(".acf-fc-layout-controls").prepend(a.duplicate_flexible_btn)}),e},_duplicate:function(e){var t,a,n;(a=o(e.target).closest(".layout")).closest(".acf-field"),this.add({layout:a.data("layout"),before:a}),(n=a.prev(".layout")).addClass("_duplicated"),i(a,n,"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field"),setTimeout(function(){n.removeClass("_duplicated")},125),(t=o.Event("acf_duplicated_layout")).destination=n,a.trigger(t)}}),e(acf.models.RepeaterField.prototype,{events:{'click a[data-event="duplicate-row"]':"_duplicate"},render:function(){var e;return e=this.parent.render.apply(this,arguments),this.$rows().each(function(e){o(this).find("> td.remove").append(a.duplicate_repeater_btn)}),e},_duplicate:function(e){var t,a,n;o(e.target).hasClass("acf-icon")&&(t=o(e.target).closest(".acf-row"),(a=this.add({before:t})).addClass("_duplicated"),i(t,a),setTimeout(function(){a.removeClass("_duplicated")},125),(n=o.Event("acf_duplicated_row")).destination=a,t.trigger(n))}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcGVhdGVyLWR1cGxpY2F0ZS5qcyJdLCJuYW1lcyI6WyIkIiwib3B0aW9ucyIsImFjZl9kdXBsaWNhdGVfcmVwZWF0ZXIiLCJjb3B5X3ZhbHVlX2NiIiwiX2RlZmF1bHQiLCIkc3JjIiwiJGRlc3QiLCJ0eXBlIiwiJHNyY2VzIiwiZmluZCIsImFjZiIsImdldEZpZWxkIiwiZWFjaCIsImkiLCJlbCIsInRoaXMiLCJ2YWwiLCJidXR0b25fZ3JvdXAiLCIkZGVzdFJhZGlvIiwicHJvcCIsInRyaWdnZXIiLCJjaGVja2JveCIsIiRkZXN0Q0IiLCJjb2xvcl9waWNrZXIiLCJzcmNGaWVsZCIsImRlc3RGaWVsZCIsIiRpbnB1dFRleHQiLCJpcmlzIiwiZGF0ZV9waWNrZXIiLCJkYXRlX3RpbWVfcGlja2VyIiwiZmlsZSIsIiRzcmNVcGwiLCIkZGVzdFVwbCIsImhhc0NsYXNzIiwiZmlyc3QiLCJodG1sIiwiYWRkQ2xhc3MiLCJmbGV4aWJsZV9jb250ZW50IiwiJGxheW91dHMiLCJsYXlvdXQiLCIkbGF5b3V0IiwiYWRkIiwiZGF0YSIsImNvcHlfdmFsdWVzIiwibGFzdCIsImdhbGxlcnkiLCIkc3JjTGlzdCIsIiRkZXN0TGlzdCIsIm5hbWUiLCJhdHRyIiwiY2hpbGRyZW4iLCIkY2xvbmUiLCJjbG9uZSIsImFwcGVuZCIsImdvb2dsZV9tYXAiLCJzZXRWYWx1ZSIsImdldFZhbHVlIiwiZ3JvdXAiLCJpbWFnZSIsImxpbmsiLCIkc3JjTm9kZSIsIiRkZXN0Tm9kZSIsIm9lbWJlZCIsInBvc3Rfb2JqZWN0IiwicmFkaW8iLCJyYW5nZSIsInJlbGF0aW9uc2hpcCIsIiRpbnB1dCIsInJlcGVhdGVyIiwiJHJvd3MiLCJyb3ciLCIkbmV3X3JvdyIsInNlbGVjdCIsIl9zZWxlY3RvciIsIiRzcmNTZWxlY3QiLCIkZGVzdFNlbGVjdCIsIiRkZXN0T3B0cyIsInRheG9ub215IiwidGV4dGFyZWEiLCJ0aW1lX3BpY2tlciIsInRydWVfZmFsc2UiLCJ1c2VyIiwid3lzaXd5ZyIsImVkaXRvciIsImRlc3RfaWQiLCJ0aW55bWNlIiwiZ2V0Iiwic2V0Q29udGVudCIsInNhdmUiLCIkc291cmNlcyIsIiRkZXN0cyIsImNvbnNvbGUiLCJ0cmFjZSIsImNvcHlFdmVudCIsIkV2ZW50IiwiZGVzdGluYXRpb24iLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkb25lRXZlbnQiLCJfZXh0ZW5kIiwib2JqIiwiZXh0ZW5kIiwicGFyZW50IiwiayIsInYiLCJldmVudHMiLCJtb2RlbHMiLCJGbGV4aWJsZUNvbnRlbnRGaWVsZCIsInByb3RvdHlwZSIsImNsaWNrIFtkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdIiwicmVuZGVyIiwicmV0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwcmVwZW5kIiwiZHVwbGljYXRlX2ZsZXhpYmxlX2J0biIsIl9kdXBsaWNhdGUiLCJlIiwiZHVwbGljYXRlZEV2ZW50IiwiJG5ld19sYXlvdXQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiYmVmb3JlIiwicHJldiIsInNldFRpbWVvdXQiLCJyZW1vdmVDbGFzcyIsIlJlcGVhdGVyRmllbGQiLCJjbGljayBhW2RhdGEtZXZlbnQ9XCJkdXBsaWNhdGUtcm93XCJdIiwiZHVwbGljYXRlX3JlcGVhdGVyX2J0biIsIiRzb3VyY2UiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBQ1QsSUFBSUMsRUFBVUMsdUJBQXVCRCxRQU1wQ0UsRUFBZ0IsQ0FDZkMsU0FBVSxTQUFVQyxFQUFNQyxFQUFPQyxHQUNoQyxJQUFJQyxFQUFTSCxFQUFLSSxLQUFLLFVBQVVGLEVBQUssTUFDMUJHLElBQUlDLFNBQVNOLEdBQ1pLLElBQUlDLFNBQVNMLEdBRzFCQSxFQUFNRyxLQUFLLFVBQVVGLEVBQUssTUFBTUssS0FBSyxTQUFTQyxFQUFFQyxHQUUvQ2QsRUFBRWUsTUFBTUMsSUFBS2hCLEVBQUdRLEVBQU9LLElBQUtHLFVBSTlCQyxhQUFjLFNBQVVaLEVBQU1DLEdBQzdCLElBQUlZLEVBQWFaLEVBQU1H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QixHQUVSTSxXQUFZLFNBQVVDLEdBRXJCLElBQUlZLEVBQVMzSCxFQUFPZ0gsRUFHaEJ0SCxFQUFFcUgsRUFBRUcsUUFBUXZGLFNBQVMsY0FDeEJnRyxFQUFVakksRUFBRXFILEVBQUVHLFFBQVFDLFFBQVEsYUFLL0JuSCxFQUFRUyxLQUFLMEIsSUFBSyxDQUFFaUYsT0FBUU8sS0FDdEI3RixTQUFTLGVBRWZPLEVBQWFzRixFQUFTM0gsR0FFdEJzSCxXQUFXLFdBQ1Z0SCxFQUFNdUgsWUFBWSxnQkFDaEIsTUFFSFAsRUFBa0J0SCxFQUFFOEYsTUFBTyx1QkFDWEMsWUFBY3pGLEVBRTlCMkgsRUFBUTdHLFFBQVNrRyxPQTNacEIsQ0FnYUdZIiwiZmlsZSI6InJlcGVhdGVyLWR1cGxpY2F0ZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCl7XG5cdHZhciBvcHRpb25zID0gYWNmX2R1cGxpY2F0ZV9yZXBlYXRlci5vcHRpb25zLFxuXG5cblx0XHQvKipcblx0XHQgKlx0dmFsdWUgY29weSBjYWxsYmFja3Ncblx0XHQgKi9cblx0XHRjb3B5X3ZhbHVlX2NiID0ge1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCwgdHlwZSApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgJHNyY2VzID0gJHNyYy5maW5kKCdbdHlwZT1cIicrdHlwZSsnXCJdJyksXG5cdFx0XHRcdFx0c3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KTtcblx0XHRcdFx0Ly9kZXN0RmllbGQudmFsKCBzcmNGaWVsZC52YWwgKTtcblxuXHRcdFx0XHQkZGVzdC5maW5kKCdbdHlwZT1cIicrdHlwZSsnXCJdJykuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKHR5cGUsdGhpcywkc3JjZXNbaV0sJCggJHNyY2VzW2ldICkudmFsKCkpXG5cdFx0XHRcdFx0JCh0aGlzKS52YWwoICQoICRzcmNlc1tpXSApLnZhbCgpICk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9LFxuXHRcdFx0YnV0dG9uX2dyb3VwOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0dmFyICRkZXN0UmFkaW8gPSAkZGVzdC5maW5kKCdbdHlwZT1cInJhZGlvXCJdJyk7XG5cdFx0XHRcdCRzcmMuZmluZCgnW3R5cGU9XCJyYWRpb1wiXScpLmVhY2goIGZ1bmN0aW9uKGksZWwpIHtcblx0XHRcdFx0XHRpZiAoICQoZWwpLnByb3AoJ2NoZWNrZWQnKSApIHtcblx0XHRcdFx0XHRcdCQoICRkZXN0UmFkaW9baV0gKS50cmlnZ2VyKCdjbGljaycgKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGNoZWNrYm94OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0dmFyICRkZXN0Q0IgPSAkZGVzdC5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdJyk7XG5cdFx0XHRcdCRzcmMuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpLmVhY2goIGZ1bmN0aW9uKGksZWwpIHtcblx0XHRcdFx0XHQkKCAkZGVzdENCW2ldICkucHJvcCgnY2hlY2tlZCcsICQoZWwpLnByb3AoJ2NoZWNrZWQnKSApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRjb2xvcl9waWNrZXI6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KSxcblx0XHRcdFx0XHR2YWwgPSBzcmNGaWVsZC4kaW5wdXRUZXh0KCkudmFsKCk7XG5cblx0XHRcdFx0ZGVzdEZpZWxkLiRpbnB1dFRleHQoKS5pcmlzKCAnb3B0aW9uJywgJ2NvbG9yJywgdmFsICk7XG5cdFx0XHR9LFxuXHRcdFx0ZGF0ZV9waWNrZXI6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAndGV4dCcgKTtcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ2hpZGRlbicgKTtcblx0XHRcdH0sXG5cdFx0XHRkYXRlX3RpbWVfcGlja2VyOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ3RleHQnICk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHR9LFxuXHRcdFx0ZmlsZTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkc3JjVXBsID0gJHNyYy5maW5kKCcuYWNmLWZpbGUtdXBsb2FkZXInKSxcblx0XHRcdFx0XHQkZGVzdFVwbCA9ICRkZXN0LmZpbmQoJy5hY2YtZmlsZS11cGxvYWRlcicpO1xuXG5cdFx0XHRcdC8vIHNldCBoaWRkZW5cblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSggJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cblx0XHRcdFx0aWYgKCAkc3JjVXBsLmhhc0NsYXNzKCdoYXMtdmFsdWUnKSApIHtcblx0XHRcdFx0XHQkZGVzdFVwbC5maW5kKCdkaXYnKS5maXJzdCgpLmh0bWwoICRzcmNVcGwuZmluZCgnZGl2JykuZmlyc3QoKS5odG1sKCkgKTtcblx0XHRcdFx0XHQkZGVzdC5maW5kKCcuYWNmLWZpbGUtdXBsb2FkZXInKS5hZGRDbGFzcygnaGFzLXZhbHVlJylcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGZsZXhpYmxlX2NvbnRlbnQ6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHtcblx0XHRcdFx0dmFyIHNlbGVjdG9yID0gJz4gLmFjZi1pbnB1dCA+IC5hY2YtZmxleGlibGUtY29udGVudCA+IC52YWx1ZXMgPiAubGF5b3V0Jyxcblx0XHRcdFx0XHRzcmNGaWVsZCA9IGFjZi5nZXRGaWVsZCgkc3JjKSxcblx0XHRcdFx0XHRkZXN0RmllbGQgPSBhY2YuZ2V0RmllbGQoJGRlc3QpO1xuXHRcdFx0XHQvL2FjZi5maWVsZHMuZmxleGlibGVfY29udGVudC5zZXQoICckZmllbGQnLCAkZGVzdCApO1xuXG5cdFx0XHRcdHNyY0ZpZWxkLiRsYXlvdXRzKCkuZWFjaChmdW5jdGlvbihpLGxheW91dCl7XG5cdFx0XHRcdFx0Ly8gZWFjaCByZXBlYXRlciBlbnRyeS4uLiBmaW5kIGZpZWxkcyBpbiByZXBlYXRlciBlbnRyeVxuXHRcdFx0XHRcdHZhciAkbGF5b3V0ID0gJChsYXlvdXQpLFxuXHRcdFx0XHRcdFx0JG5ld19sYXlvdXQ7XG5cblx0XHRcdFx0XHRkZXN0RmllbGQuYWRkKCB7IGxheW91dDogJGxheW91dC5kYXRhKCdsYXlvdXQnKSB9ICk7XG5cblx0XHRcdFx0XHQkbmV3X2xheW91dCA9IGRlc3RGaWVsZC4kbGF5b3V0cygpLmxhc3QoKTtcblxuXHRcdFx0XHRcdC8vIHRibCArIGJsb2NrICsgcm93XG5cdFx0XHRcdFx0Y29weV92YWx1ZXMoICRsYXlvdXQsICRuZXdfbGF5b3V0LCAnPiAuYWNmLXRhYmxlID4gdGJvZHkgPiAuYWNmLXJvdyA+IC5hY2YtZmllbGQsID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApOyAvLyBleGNsdWRlIGNsb25lcyFcblxuXHRcdFx0XHR9KTsgLy8gdGFibGVcblx0XHRcdH0sXG5cdFx0XHRnYWxsZXJ5OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Ly8gY29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ2hpZGRlbicgKTtcblx0XHRcdFx0dmFyICRzcmNMaXN0ID0gJHNyYy5maW5kKCcuYWNmLWdhbGxlcnktYXR0YWNobWVudHMnKSxcblx0XHRcdFx0XHQkZGVzdExpc3QgPSAkZGVzdC5maW5kKCcuYWNmLWdhbGxlcnktYXR0YWNobWVudHMnKSxcblx0XHRcdFx0XHQkaW5wdXQgPSAkZGVzdC5maW5kKCdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdJyksXG5cdFx0XHRcdFx0bmFtZSA9ICRpbnB1dC5hdHRyKCduYW1lJykgKyAnW10nO1xuXG5cdFx0XHRcdCRzcmNMaXN0LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0XHQkY2xvbmUgPSAkKGVsKS5jbG9uZSgpO1xuXHRcdFx0XHRcdCRjbG9uZS5maW5kKCdbdHlwZT1cImhpZGRlblwiXScpLmF0dHIoICduYW1lJywgbmFtZSApO1xuXHRcdFx0XHRcdCRkZXN0TGlzdC5hcHBlbmQoJGNsb25lKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Z29vZ2xlX21hcDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciBzcmNGaWVsZCA9IGFjZi5nZXRGaWVsZCgkc3JjKSxcblx0XHRcdFx0XHRkZXN0RmllbGQgPSBhY2YuZ2V0RmllbGQoJGRlc3QpO1xuXHRcdFx0XHRkZXN0RmllbGQuc2V0VmFsdWUoIHNyY0ZpZWxkLmdldFZhbHVlKCkgKTtcbi8vXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdFx0fSxcblx0XHRcdGdyb3VwOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7XG5cdFx0XHRcdGNvcHlfdmFsdWVzKCAkc3JjLCAkZGVzdCwgJz4gLmFjZi1pbnB1dCA+IC5hY2YtdGFibGUgPiB0Ym9keSA+IC5hY2Ytcm93ID4gLmFjZi1maWVsZCwgPiAuYWNmLWlucHV0ID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApOyAvLyBleGNsdWRlIGNsb25lcyFcblx0XHRcdH0sXG5cdFx0XHRpbWFnZTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdC8vIHNldCBoaWRkZW5cblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSggJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHRcdCRkZXN0LmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycsICRzcmMuZmluZCgnaW1nJykuYXR0cignc3JjJykgKVxuXHRcdFx0XHRpZiAoICRzcmMuZmluZCgnLmFjZi1pbWFnZS11cGxvYWRlcicpLmhhc0NsYXNzKCdoYXMtdmFsdWUnKSApIHtcblx0XHRcdFx0XHQkZGVzdC5maW5kKCcuYWNmLWltYWdlLXVwbG9hZGVyJykuYWRkQ2xhc3MoJ2hhcy12YWx1ZScpXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0dmFyICRzcmNOb2RlID0gJHNyYy5maW5kKCcubGluay1ub2RlJyksXG5cdFx0XHRcdFx0JGRlc3ROb2RlID0gJGRlc3QuZmluZCgnLmxpbmstbm9kZScpO1xuXG5cdFx0XHRcdCRkZXN0Tm9kZS5odG1sKCAkc3JjTm9kZS5odG1sKCkgKTtcblx0XHRcdFx0JGRlc3ROb2RlLmF0dHIoICdocmVmJywgJHNyY05vZGUuYXR0ciggJ2hyZWYnICkgKTtcblx0XHRcdFx0JGRlc3ROb2RlLmF0dHIoICd0YXJnZXQnLCAkc3JjTm9kZS5hdHRyKCAndGFyZ2V0JyApICk7XG5cblx0XHRcdFx0JGRlc3ROb2RlLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0fSxcblx0XHRcdG9lbWJlZDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdCRkZXN0LmZpbmQoJ1tkYXRhLW5hbWU9XCJzZWFyY2gtaW5wdXRcIl0nKVxuXHRcdFx0XHRcdC52YWwoICRzcmMuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKS52YWwoKSApXG5cdFx0XHRcdFx0LnRyaWdnZXIoJ2JsdXInKTtcblx0XHRcdH0sXG5cdFx0XHRwb3N0X29iamVjdDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ3NlbGVjdCddKCRzcmMsICRkZXN0ICk7XG5cdFx0XHR9LFxuXHRcdFx0cmFkaW86IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydidXR0b25fZ3JvdXAnXSgkc3JjLCAkZGVzdCk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsJ3RleHQnKTtcblx0XHRcdH0sXG5cdFx0XHRyYW5nZTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsJ3JhbmdlJyk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsJ251bWJlcicpO1xuXHRcdFx0fSxcblx0XHRcdHJlbGF0aW9uc2hpcDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkZGVzdExpc3QgPSAkZGVzdC5maW5kKCcudmFsdWVzID4gLmxpc3QnKSxcblx0XHRcdFx0XHQkaW5wdXQgPSAkZGVzdC5maW5kKCcuYWNmLXJlbGF0aW9uc2hpcCcpLmNoaWxkcmVuKCdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdJyksXG5cdFx0XHRcdFx0bmFtZSA9ICRpbnB1dC5hdHRyKCduYW1lJykgKyAnW10nO1xuXG5cdFx0XHRcdCRzcmMuZmluZCgnLnZhbHVlcyA+IC5saXN0JykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuXHRcdFx0XHRcdHZhciAkY2xvbmUgPSAkKGVsKS5jbG9uZSgpO1xuXHRcdFx0XHRcdCRjbG9uZS5maW5kKCdbdHlwZT1cImhpZGRlblwiXScpLmF0dHIoICduYW1lJywgbmFtZSApO1xuXHRcdFx0XHRcdCRkZXN0TGlzdC5hcHBlbmQoJGNsb25lKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRpbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdH0sXG5cdFx0XHRyZXBlYXRlcjpmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7XG5cdFx0XHRcdHZhciBzcmNGaWVsZCA9IGFjZi5nZXRGaWVsZCgkc3JjKSxcblx0XHRcdFx0XHRkZXN0RmllbGQgPSBhY2YuZ2V0RmllbGQoJGRlc3QpO1xuXG5cdFx0XHRcdHNyY0ZpZWxkLiRyb3dzKCkuZWFjaChmdW5jdGlvbihpLHJvdyl7XG5cdFx0XHRcdFx0JG5ld19yb3cgPSBkZXN0RmllbGQuYWRkKCk7XG5cdFx0XHRcdFx0Y29weV92YWx1ZXMoICQocm93KSwgJG5ld19yb3csICc+IC5hY2YtZmllbGQsID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyAkc3JjLmZpbmQoJz4gLmFjZi1pbnB1dCA+IC5hY2YtcmVwZWF0ZXIgPiAuYWNmLXRhYmxlID4gdGJvZHkgPiAuYWNmLXJvdzpub3QoLmFjZi1jbG9uZSknKS5lYWNoKGZ1bmN0aW9uKGkscm93KXtcblx0XHRcdFx0Ly8gXHQvLyBlYWNoIHJlcGVhdGVyIGVudHJ5Li4uIGZpbmQgZmllbGRzIGluIHJlcGVhdGVyIGVudHJ5XG5cdFx0XHRcdC8vIFx0dmFyICRuZXdfcm93ID0gYWNmLmZpZWxkcy5yZXBlYXRlci5hZGQoKTtcblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gXHRjb3B5X3ZhbHVlcyggJChyb3cpLCAkbmV3X3JvdywgJz4gLmFjZi1maWVsZCwgPiAuYWNmLWZpZWxkcyA+IC5hY2YtZmllbGQnICk7IC8vIGV4Y2x1ZGUgY2xvbmVzIVxuXHRcdFx0XHQvLyB9KTsgLy8gdGFibGVcblx0XHRcdH0sXG5cdFx0XHRzZWxlY3Q6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCwgX3NlbGVjdG9yICkgeyAvLyBPS0FZXG5cdFx0XHRcdF9zZWxlY3RvciA9IF9zZWxlY3RvciB8fCAnID4gLmFjZi1pbnB1dCA+IHNlbGVjdCc7XG5cdFx0XHRcdHZhciAkc3JjU2VsZWN0ID0gJHNyYy5maW5kKCBfc2VsZWN0b3IgKSxcblx0XHRcdFx0XHQkZGVzdFNlbGVjdCA9ICRkZXN0LmZpbmQoIF9zZWxlY3RvciApO1xuXG5cdFx0XHRcdGlmICggJHNyY1NlbGVjdC5kYXRhKCd1aScpICogMSApIHtcblx0XHRcdFx0XHQvLyBzb3J0ICRkZXN0IGxpa2UgJHNyY1xuXHRcdFx0XHRcdCRkZXN0U2VsZWN0Lmh0bWwoJycpO1xuXHRcdFx0XHRcdCRzcmNTZWxlY3QuZmluZCgnb3B0aW9uJykuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0XHRcdCRkZXN0U2VsZWN0LmFwcGVuZCgkKGVsKS5jbG9uZSgpKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkZGVzdE9wdHMgPSAkZGVzdFNlbGVjdC5maW5kKCdvcHRpb24nKTtcblx0XHRcdFx0JHNyY1NlbGVjdC5maW5kKCdvcHRpb24nKS5lYWNoKGZ1bmN0aW9uKGksZWwpIHtcblx0XHRcdFx0XHQkKCAkZGVzdE9wdHNbaV0gKS5wcm9wKCdzZWxlY3RlZCcsICQoZWwpLnByb3AoJ3NlbGVjdGVkJykgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0dGF4b25vbXk6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydyYWRpbyddKCRzcmMsICRkZXN0KTtcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnY2hlY2tib3gnXSgkc3JjLCAkZGVzdCk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ3NlbGVjdCddKCRzcmMsICRkZXN0LCAnPiAuYWNmLWlucHV0ID4gLmFjZi10YXhvbm9teS1maWVsZCA+IHNlbGVjdCcgKTtcblx0XHRcdH0sXG5cdFx0XHR0ZXh0YXJlYTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdCRkZXN0LmZpbmQoJ3RleHRhcmVhJykudmFsKCAkc3JjLmZpbmQoJ3RleHRhcmVhJykudmFsKCkgKTtcblx0XHRcdH0sXG5cdFx0XHR0aW1lX3BpY2tlcjogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICd0ZXh0JyApO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdFx0fSxcblx0XHRcdHRydWVfZmFsc2U6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHQkZGVzdC5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdJykucHJvcCgnY2hlY2tlZCcsICRzcmMuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnKSApO1xuXHRcdFx0XHQkZGVzdC5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0XHR9LFxuXHRcdFx0dXNlcjogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ3NlbGVjdCddKCAkc3JjLCAkZGVzdCApO1xuXHRcdFx0fSxcblx0XHRcdHd5c2l3eWc6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gLi4uXG5cdFx0XHRcdHZhciBzcmNGaWVsZCA9IGFjZi5nZXRGaWVsZCgkc3JjKSxcblx0XHRcdFx0XHRkZXN0RmllbGQgPSBhY2YuZ2V0RmllbGQoJGRlc3QpLFxuXHRcdFx0XHRcdGRlc3RfaWQgPSBkZXN0RmllbGQuJGlucHV0KCkuYXR0cignaWQnKSxcblx0XHRcdFx0XHR2YWwgPSBzcmNGaWVsZC5nZXRWYWx1ZSgpLCBlZGl0b3I7XG5cblx0XHRcdFx0ZWRpdG9yID0gdGlueW1jZS5nZXQoIGRlc3RfaWQgKTtcblxuXHRcdFx0XHRpZiAoICEhIGVkaXRvciApIHtcblx0XHRcdFx0XHQvLyBlZGl0b3IgYWxyZWFkeSBpbml0ZWRcblx0XHRcdFx0XHRlZGl0b3Iuc2V0Q29udGVudCggdmFsICk7XG5cdFx0XHRcdFx0JGRlc3QuZmluZCgndGV4dGFyZWEnKS52YWwoICRzcmMuZmluZCgndGV4dGFyZWEnKS52YWwoKSApXG5cdFx0XHRcdFx0ZWRpdG9yLnNhdmUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBkZWxheWVkIGluaXRcblx0XHRcdFx0XHRkZXN0RmllbGQuJGlucHV0KCkuaHRtbCggdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fTtcblxuXHQvKipcblx0ICpcdENvcHkgdmFsdWVzIGZyb20gb25lIGFjZi1maWVsZCB0byBhbm90aGVyXG5cdCAqXG5cdCAqXHRAcGFyYW0gJHNyYyBqUXVlcnkgb2JqZWN0IGhvbGRpbmcgdGhlIC5hY2YtZmllbGQgb2JqZWN0IHRvIGNvcHkgZnJvbVxuXHQgKlx0QHBhcmFtICRkZXN0IGpRdWVyeSBvYmplY3QgaG9sZGluZyB0aGUgLmFjZi1maWVsZCBvYmplY3QgdG8gY29weSB0b1xuXHQgKi9cblx0ZnVuY3Rpb24gY29weV92YWx1ZSggJHNyYywgJGRlc3QgKSB7XG5cdFx0dmFyIHR5cGUsXG5cdFx0XHRjb3B5RXZlbnQsXG5cdFx0XHRkb25lRXZlbnQ7XG5cblx0XHR0eXBlID0gJHNyYy5hdHRyKCdkYXRhLXR5cGUnKTtcblxuXHRcdGNvcHlFdmVudCA9ICQuRXZlbnQoICdhY2ZfZHVwbGljYXRlOicgKyB0eXBlICk7XG5cdFx0Y29weUV2ZW50LmRlc3RpbmF0aW9uID0gJGRlc3Q7XG5cblx0XHQkc3JjLnRyaWdnZXIoIGNvcHlFdmVudCApO1xuXG5cdFx0Ly8gYWxsb3cgY2FuY2VsaW5nXG5cdFx0aWYgKCBjb3B5RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCAhIGNvcHlfdmFsdWVfY2JbIHR5cGUgXSApIHtcblx0XHRcdC8vIERlZmFsdCBiZWhhdmlvdXIgZm9yIHRleHQsIHJhbmdlLCB1cmwsIG51bWJlcixcblx0XHRcdGNvcHlfdmFsdWVfY2IuX2RlZmF1bHQoICRzcmMsICRkZXN0LCB0eXBlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvcHlfdmFsdWVfY2JbdHlwZV0oICRzcmMsICRkZXN0ICk7XG5cdFx0fVxuXG5cdFx0ZG9uZUV2ZW50ID0gJC5FdmVudCggJ2FjZl9kdXBsaWNhdGVkOicgKyB0eXBlICk7XG5cdFx0ZG9uZUV2ZW50LmRlc3RpbmF0aW9uID0gJGRlc3Q7XG5cblx0XHQkc3JjLnRyaWdnZXIoIGRvbmVFdmVudCApO1xuXHR9XG5cblx0LyoqXG5cdCAqXHRDb3B5IHZhbHVlcyBmcm9tIG9uZSBzZXQgb2YgYWNmLWZpZWxkcyB0byBhbm90aGVyLlxuXHQgKlx0SXQgaXMgYXNzdW1lZCB0aGF0IGJvdGggJHNyYyBhbmQgJGRlc3QgaGF2ZSBpZGVudGljYWwgZmllbGRzXG5cdCAqXG5cdCAqXHRAcGFyYW0gJHNyYyBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIC5hY2YtZmllbGQgb2JqZWN0cyB0byBjb3B5IGZyb21cblx0ICpcdEBwYXJhbSAkZGVzdCBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIC5hY2YtZmllbGQgb2JqZWN0IHRvIGNvcHkgdG9cblx0ICpcdEBwYXJhbSBfc2VsZWN0b3IgY3NzIHNlbGVjdG9yIHRvIHNlbGVjdCAuYWNmLWZpZWxkcyBpbiBib3RoICRzcmMgYW5kICRkZXN0XG5cdCAqL1xuXHRmdW5jdGlvbiBjb3B5X3ZhbHVlcyggJHNyYywgJGRlc3QsIF9zZWxlY3RvciApIHtcblx0XHR2YXIgZmllbGRfbWFwXHQ9IHt9LFxuXHRcdFx0X3NlbGVjdG9yID0gX3NlbGVjdG9yIHx8ICc+IC5hY2YtZmllbGQsID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyxcblx0XHRcdCRzb3VyY2VzXHQ9ICRzcmMuZmluZCggX3NlbGVjdG9yICksXG5cdFx0XHQkZGVzdHNcdFx0PSAkZGVzdC5maW5kKCBfc2VsZWN0b3IgKTtcblxuXHRcdCRzb3VyY2VzLmVhY2goIGZ1bmN0aW9uKCBpLCBlbCApe1xuXHRcdFx0aWYgKCAhICRkZXN0c1tpXSApIHtcblx0XHRcdFx0Y29uc29sZS50cmFjZSgnRXJyb3I6IHNvdXJjZSBmaWVsZHMgZG8gbm90IG1hdGNoIGRlc3RpbmF0aW9uIGZpZWxkcycpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICQoICRzb3VyY2VzW2ldICkuZGF0YSgndHlwZScpICE9PSAkKCRkZXN0c1tpXSkuZGF0YSgndHlwZScpICkge1xuXHRcdFx0XHRjb25zb2xlLnRyYWNlKCdFcnJvcjogc291cmNlIGZpZWxkIHR5cGUgZG9lcyBub3QgbWF0Y2ggZGVzdGluYXRpb24gZmllbGQgdHlwZScpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRjb3B5X3ZhbHVlKCAkKCAkc291cmNlc1tpXSApLCAkKCRkZXN0c1tpXSkgKTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKlx0RXh0ZW5kIGFjZiBmbGV4aWJsZSBjb250ZW50IGZpZWxkXG5cdCAqL1xuXG5cdHZhciBfZXh0ZW5kID0gZnVuY3Rpb24ob2JqLGV4dGVuZCkge1xuXHRcdHZhciBwYXJlbnQgPSAkLmV4dGVuZCh7fSxvYmopO1xuXHRcdCQuZWFjaChleHRlbmQsZnVuY3Rpb24oayx2KSB7XG5cdFx0XHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2Ygb2JqW2tdICkge1xuXHRcdFx0XHRpZiAoICdldmVudHMnID09PSBrICkge1xuXHRcdFx0XHRcdG9iai5ldmVudHMgPSAkLmV4dGVuZCggb2JqLmV2ZW50cywgdiApO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fSBlbHNlIGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHYgKSB7XG5cdFx0XHRcdFx0cGFyZW50W2tdID0gb2JqW2tdOyAvL1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvYmpba10gPSB2O1xuXHRcdH0pO1xuXHRcdG9iai5wYXJlbnQgPSBwYXJlbnQ7XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG5cdF9leHRlbmQoIGFjZi5tb2RlbHMuRmxleGlibGVDb250ZW50RmllbGQucHJvdG90eXBlLCB7XG5cdFx0ZXZlbnRzOiB7XG5cdFx0XHQnY2xpY2sgW2RhdGEtbmFtZT1cImR1cGxpY2F0ZS1sYXlvdXRcIl0nOiAnX2R1cGxpY2F0ZSdcblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciByZXQ7XG5cblx0XHRcdHJldCA9IHRoaXMucGFyZW50LnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGFkZCBkdXBsaWNhdGUgYnRuXG5cdFx0XHR0aGlzLiRsYXlvdXRzKCkuZWFjaChmdW5jdGlvbiggaSwgZWwgKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykuZmluZCgnW2RhdGEtbmFtZT1cImR1cGxpY2F0ZS1sYXlvdXRcIl0nKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0JCh0aGlzKS5maW5kKCcuYWNmLWZjLWxheW91dC1jb250cm9scycpLnByZXBlbmQoIG9wdGlvbnMuZHVwbGljYXRlX2ZsZXhpYmxlX2J0biApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcdF9kdXBsaWNhdGU6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0dmFyIGxheW91dCxcblx0XHRcdFx0ZHVwbGljYXRlZEV2ZW50LFxuXHRcdFx0XHQkZmllbGQsXG5cdFx0XHRcdCRsYXlvdXQsICAvLyBvcmlnaW5hbCBmaWVsZFxuXHRcdFx0XHQkbmV3X2xheW91dDsgLy8gY2xvbmVkIGZpZWxkXG5cblx0XHRcdC8vIGdldCBsYXlvdXQgd3JhcHBlclxuXHRcdFx0JGxheW91dCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5sYXlvdXQnKTtcblxuXHRcdFx0Ly8gZ2V0IGZsZXhpYmxlX2NvbnRlbnQgZmllbGRcblx0XHRcdCRmaWVsZCA9ICRsYXlvdXQuY2xvc2VzdCgnLmFjZi1maWVsZCcpO1xuXG5cdFx0XHQvLyBhY2Ygc2V0IGZpZWxkIGNvbnRlbnh0XG5cdFx0XHQvL2FjZi5maWVsZHMuZmxleGlibGVfY29udGVudC5zZXQoICckZmllbGQnLCAkZmllbGQgKTtcblxuXHRcdFx0Ly8gYWNmIGFkZCB0YXJnZXQgbGF5b3V0IGJlZm9yZSBzb3VyY2UgbGF5b3V0XG5cdFx0XHR0aGlzLmFkZCgge1xuXHRcdFx0XHRsYXlvdXQ6ICRsYXlvdXQuZGF0YSgnbGF5b3V0JyksXG5cdFx0XHRcdGJlZm9yZTogJGxheW91dCxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBnZXQgdGhlIGFkZGVkIGxheW91dFxuXHRcdFx0JG5ld19sYXlvdXQgPSAkbGF5b3V0LnByZXYoICcubGF5b3V0JyApO1xuXHRcdFx0JG5ld19sYXlvdXQuYWRkQ2xhc3MoJ19kdXBsaWNhdGVkJyk7XG5cblx0XHRcdC8vIGNvcHkgdmFsdWVzIGZyb20gc291cmNlIGxheW91dCB0byBkZXN0aW5hdGlvblxuXHRcdFx0Y29weV92YWx1ZXMoICRsYXlvdXQsICRuZXdfbGF5b3V0LCAnPiAuYWNmLXRhYmxlID4gdGJvZHkgPiAuYWNmLXJvdyA+IC5hY2YtZmllbGQsID4gLmFjZi1maWVsZHMgPiAuYWNmLWZpZWxkJyApOyAvLyBleGNsdWRlIGNsb25lcyFcbi8vXHRcdFx0JG5ld19sYXlvdXQucmVtb3ZlQ2xhc3MoJ19kdXBsaWNhdGVkJyk7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCRuZXdfbGF5b3V0LnJlbW92ZUNsYXNzKCdfZHVwbGljYXRlZCcpO1xuXHRcdFx0fSwgMTI1ICk7XG5cblx0XHRcdGR1cGxpY2F0ZWRFdmVudCA9ICQuRXZlbnQoICdhY2ZfZHVwbGljYXRlZF9sYXlvdXQnICk7XG5cdFx0XHRkdXBsaWNhdGVkRXZlbnQuZGVzdGluYXRpb24gPSAkbmV3X2xheW91dDtcblxuXHRcdFx0JGxheW91dC50cmlnZ2VyKCBkdXBsaWNhdGVkRXZlbnQgKTtcblxuXHRcdH1cblx0fSk7XG5cblx0Ly9hY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQgPSBhY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQuZXh0ZW5kKCk7XG5cblx0LyoqXG5cdCAqXHRFeHRlbmQgYWNmIGZsZXhpYmxlIGNvbnRlbnQgZmllbGRcblx0ICovXG5cdCBfZXh0ZW5kKCBhY2YubW9kZWxzLlJlcGVhdGVyRmllbGQucHJvdG90eXBlLCB7XG5cdFx0ZXZlbnRzOiB7XG5cdFx0XHQnY2xpY2sgYVtkYXRhLWV2ZW50PVwiZHVwbGljYXRlLXJvd1wiXSc6ICdfZHVwbGljYXRlJ1xuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHJldDtcblxuXHRcdFx0cmV0ID0gdGhpcy5wYXJlbnQucmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gYWRkIGR1cGxpY2F0ZSBidG5cblx0XHRcdHRoaXMuJHJvd3MoKS5lYWNoKGZ1bmN0aW9uKGkpe1xuXHRcdFx0XHQkKHRoaXMpLmZpbmQoJz4gdGQucmVtb3ZlJykuYXBwZW5kKCBvcHRpb25zLmR1cGxpY2F0ZV9yZXBlYXRlcl9idG4gKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0X2R1cGxpY2F0ZTogZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdHZhciAkc291cmNlLCAkZGVzdCwgZHVwbGljYXRlZEV2ZW50O1xuXG5cdFx0XHQvLyBnZXQgc291cmNlIHJvd1xuXHRcdFx0aWYoICQoZS50YXJnZXQpLmhhc0NsYXNzKCdhY2YtaWNvbicpICkge1xuXHRcdFx0XHQkc291cmNlID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmFjZi1yb3cnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vIGFkZCBkZXN0aW5hdGlvbiByb3dcblx0XHRcdCRkZXN0ID0gdGhpcy5hZGQoIHsgYmVmb3JlOiAkc291cmNlIH0gKTsgLy8gYWRkIGJlZm9yZSBzb3VyY2UhXG5cdFx0XHQkZGVzdC5hZGRDbGFzcygnX2R1cGxpY2F0ZWQnKTtcblx0XHRcdC8vIGNvcHkgdmFsdWVzIGZyb20gc291cmNlIHJvdyB0byBkZXN0aW5hdGlvblxuXHRcdFx0Y29weV92YWx1ZXMoICRzb3VyY2UsICRkZXN0ICk7XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0JGRlc3QucmVtb3ZlQ2xhc3MoJ19kdXBsaWNhdGVkJyk7XG5cdFx0XHR9LCAxMjUgKTtcblxuXHRcdFx0ZHVwbGljYXRlZEV2ZW50ID0gJC5FdmVudCggJ2FjZl9kdXBsaWNhdGVkX3JvdycgKTtcblx0XHRcdGR1cGxpY2F0ZWRFdmVudC5kZXN0aW5hdGlvbiA9ICRkZXN0O1xuXG5cdFx0XHQkc291cmNlLnRyaWdnZXIoIGR1cGxpY2F0ZWRFdmVudCApO1xuXHRcdH0sXG5cdH0pO1xuXG5cbn0pKGpRdWVyeSk7XG4iXX0=
